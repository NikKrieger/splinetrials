[{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"id_9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"https://nikkrieger.github.io/splinetrials/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright [yyyy] [name of copyright owner]  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://nikkrieger.github.io/splinetrials/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Nik Krieger. Author, maintainer. Daniel Sabanes Bove. Contributor. Eli Lilly Company. Copyright holder.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Krieger N (2025). splinetrials: Facilitate Clinical Trials Analysis Using Natural Cubic Splines. R package version 0.1.0, https://github.com/NikKrieger/splinetrials.","code":"@Manual{,   title = {splinetrials: Facilitate Clinical Trials Analysis Using Natural Cubic Splines},   author = {Nik Krieger},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/NikKrieger/splinetrials}, }"},{"path":"https://nikkrieger.github.io/splinetrials/index.html","id":"splinetrials","dir":"","previous_headings":"","what":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","title":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","text":"goal splinetrials analyze longitudinal clinical data applying natural cubic splines continuous time variable.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","text":"Install package CRAN : can also install development version splinetrials GitHub :","code":"install.packages(\"splinetrials\") # install.packages(\"pak\") pak::pak(\"NikKrieger/splinetrials\")"},{"path":"https://nikkrieger.github.io/splinetrials/index.html","id":"methods","dir":"","previous_headings":"","what":"Methods","title":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","text":"NCS model longitudinal mixed model repeated measures (MMRM) random effects marginalized , additive baseline covariates, time parameterized using natural cubic splines. parameterization additive effects pairwise interactions study arm time point (.e., spline basis functions). model constrained study arms equal means baseline.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/index.html","id":"data","dir":"","previous_headings":"","what":"Data","title":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","text":"begin clinical data set one row per patient per scheduled visit (including baseline). following simulated data set represents general structure (e.g. column names) necessarily realistic responses. following summary required columns data set. columns related time points visits: response: User-supplied numeric vector responses clinical endpoint. AVAL. patient: User-supplied character vector, ID patient study. Usually USUBJID. arm: User-supplied character vector, study arm given patient. categorical1, categorical2: User-supplied example categorical baseline covariates. continuous1, continuous2: User-supplied example continuous baseline covariates. columns related time points visits: time_observed_continuous: User-supplied numeric vector continuous times corresponding observed patient visit. Varies patient patient. Units years, months, days, unit. Must time scale time_scheduled_continuous. (former weeks, latter must also weeks.) time_observed_index: User-supplied integer index vector bins observed time points. numeric labels indicate groupings time points based rounding time_observed_continuous small set strategic fixed time points. time_observed_factor: Derived ordered factor version time_observed_index structure correlation matrix. Derived ordered(.character(time_observed_index), levels = .character(sort(unique(time_observed_index)))). time_scheduled_index: User-supplied integer index vector scheduled visit numbers. Usually AVISITN. time_scheduled_label: User-supplied character vector human-readable scheduled visit labels. Usually AVISIT. time_scheduled_continuous: User-supplied numeric vector continuous times visit scheduled. must time scale time_scheduled_continuous, values must one--one correspondence scheduled visits time_scheduled_label, baseline must value 0. time scale weeks, study team can create variable advance using time_scheduled_label (e.g. AVISIT). example, AVISIT \"Baseline\", time_scheduled_continuous must 0. time_scheduled_label \"Visit Number 5 (Week 24)\", time_scheduled_continuous 24.","code":"set.seed(1) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union data <-   mutate(     cross_join(       data.frame(         patient = do.call(paste0, expand.grid(LETTERS, letters))[1:50],         arm =           sample(c(\"control\", \"active1\", \"active2\"), 50, replace = TRUE),         categorical1 = sample(paste0(\"level\", 1:3), 50, replace = TRUE),         categorical2 = sample(c(\"level1\", \"level2\"), 50, replace = TRUE),         continuous1 = rnorm(50),         continuous2 = rnorm(50)       ),       data.frame(         time_observed_index = seq_len(8),         time_scheduled_index = seq_len(8),         time_scheduled_label =           c(\"Baseline\", paste(\"visit\", c(3, 4, 5, 7, 8, 9, 12))),         time_scheduled_continuous = seq(from = 0, length.out = 8) / 4       )     ),     time_observed_continuous =       time_scheduled_continuous + runif(n(), min = -0.1, max = 0.1),     response =       rnorm(         n(),         10 - (1 * (arm == \"active1\") + 2 * (arm == \"active2\") +                 3 * (arm == \"control\")) * sqrt((time_observed_index / 4) -                                                  min(time_observed_index / 4))       )   )  head(data) #>   patient     arm categorical1 categorical2 continuous1 continuous2 #> 1      Aa control       level3       level2   0.6466744  -0.9106807 #> 2      Aa control       level3       level2   0.6466744  -0.9106807 #> 3      Aa control       level3       level2   0.6466744  -0.9106807 #> 4      Aa control       level3       level2   0.6466744  -0.9106807 #> 5      Aa control       level3       level2   0.6466744  -0.9106807 #> 6      Aa control       level3       level2   0.6466744  -0.9106807 #>   time_observed_index time_scheduled_index time_scheduled_label #> 1                   1                    1             Baseline #> 2                   2                    2              visit 3 #> 3                   3                    3              visit 4 #> 4                   4                    4              visit 5 #> 5                   5                    5              visit 7 #> 6                   6                    6              visit 8 #>   time_scheduled_continuous time_observed_continuous  response #> 1                      0.00               0.07296151 10.685015 #> 2                      0.25               0.18543891 11.766415 #> 3                      0.50               0.49866375  8.439280 #> 4                      0.75               0.73594267  7.332906 #> 5                      1.00               1.01285277  6.027557 #> 6                      1.25               1.28123246  6.099311"},{"path":"https://nikkrieger.github.io/splinetrials/index.html","id":"main-analysis","dir":"","previous_headings":"","what":"Main analysis","title":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","text":"NCS analysis call single function: ncs_analysis(). produces table summary statistics, including LS means confidence intervals. arguments ncs_analysis() exposed user inputs. table one row per study arm per timepoint interest following columns. arm: study arm, .e. treatment group time: discrete visit time labels time_scheduled_label column data. n: number non-missing observations. est: observed mean response data. sd: observed standard deviation response data. se: observed standard error response data (just se / sqrt(n)). lower: lower bound observed 95% confidence interval data. upper: upper bound observed 95% confidence interval data. response_est: LS mean response. response_se: standard error LS mean response. response_df: degrees freedom LS mean response. response_lower: lower 95% confidence bound LS mean response. response_upper: upper 95% confidence bound LS mean response. change_est, change_lower, change_upper, change_se, change_df: like analogous response_* columns, LS mean change baseline. change_test_statistic: test statistic two-sided test LS mean change baseline equal 0, significance level 5%. change_p_value: change_test_statistic, p-value instead test statistic. diff_est, diff_se, diff_df, diff_lower, diff_upper, diff_test_statistic, diff_p_value: analogous change_* columns, treatment differences. percent_slowing_est LS mean percent slowing (percentage scale). percent_slowing_lower, percent_slowing_upper: conservative approximation confidence interval percent slowing. Assumes uncorrelated changes baseline. correlation: correlation structure whole model. optimizer: optimization algorithm whole model. can plot model data.","code":"library(splinetrials) results_table <- ncs_analysis(   data = data,   response = \"response\",   subject = \"patient\",   arm = \"arm\",   control_group = \"control\",   time_observed_continuous = \"time_observed_continuous\",   time_observed_index = \"time_observed_index\",   time_scheduled_continuous = \"time_scheduled_continuous\",   time_scheduled_label = \"time_scheduled_label\",   covariates = ~ continuous1 + categorical2,   cov_structs = c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"),   df = 3 ) results_table #> # A tibble: 24 × 32 #>    arm     time         n   est    sd    se lower upper response_est response_se #>    <fct>   <chr>    <int> <dbl> <dbl> <dbl> <dbl> <dbl>        <dbl>       <dbl> #>  1 active1 Baseline    19 10.0  1.04  0.240  9.57 10.5          9.95       0.127 #>  2 active1 visit 3     19  9.13 0.909 0.208  8.72  9.54         9.40       0.105 #>  3 active1 visit 4     19  9.02 1.10  0.253  8.53  9.52         8.94       0.144 #>  4 active1 visit 5     19  9.08 0.969 0.222  8.65  9.52         8.69       0.138 #>  5 active1 visit 7     19  8.57 1.17  0.268  8.05  9.10         8.63       0.134 #>  6 active1 visit 8     19  8.72 0.861 0.198  8.34  9.11         8.70       0.150 #>  7 active1 visit 9     19  9.16 1.21  0.278  8.61  9.70         8.84       0.126 #>  8 active1 visit 12    19  8.83 0.851 0.195  8.45  9.21         9.03       0.183 #>  9 active2 Baseline    13 10.3  0.883 0.245  9.82 10.8          9.95       0.127 #> 10 active2 visit 3     13  8.49 1.10  0.304  7.90  9.09         9.19       0.120 #> # ℹ 14 more rows #> # ℹ 22 more variables: response_df <dbl>, response_lower <dbl>, #> #   response_upper <dbl>, change_est <dbl>, change_se <dbl>, change_df <dbl>, #> #   change_lower <dbl>, change_upper <dbl>, change_test_statistic <dbl>, #> #   change_p_value <dbl>, diff_est <dbl>, diff_se <dbl>, diff_df <dbl>, #> #   diff_lower <dbl>, diff_upper <dbl>, diff_test_statistic <dbl>, #> #   diff_p_value <dbl>, percent_slowing_est <dbl>, … ncs_plot_means(results_table)"},{"path":"https://nikkrieger.github.io/splinetrials/index.html","id":"subgroup-analysis","dir":"","previous_headings":"","what":"Subgroup analysis","title":"Facilitate Clinical Trials Analysis Using Natural Cubic Splines","text":"subgroup analysis similar, begins data set categorical variable column indicate subgroup membership. completeness, full description columns data. Columns related time points visits: subgroup: User-supplied character vector indicating subgroup patient. response: User-supplied numeric vector responses clinical endpoint. AVAL. patient: User-supplied character vector, ID patient study. Usually USUBJID. arm: User-supplied character vector, study arm given patient. categorical1, categorical2: User-supplied example categorical baseline covariates. continuous1, continuous2: User-supplied example continuous baseline covariates. Columns related time points visits: time_observed_continuous: User-supplied numeric vector continuous times corresponding observed patient visit. Varies patient patient. Units years, months, days, unit. Must time scale time_scheduled_continuous. (former weeks, latter must also weeks.) time_observed_index: User-supplied integer index vector bins observed time points. numeric labels indicate groupings time points based rounding time_observed_continuous small set strategic fixed time points. time_observed_factor: Derived ordered factor version time_observed_index structure correlation matrix. Derived ordered(.character(time_observed_index), levels = .character(sort(unique(time_observed_index)))). time_scheduled_index: User-supplied integer index vector scheduled visit numbers. Usually AVISITN. time_scheduled_label: User-supplied character vector human-readable scheduled visit labels. Usually AVISIT. time_scheduled_continuous: User-supplied numeric vector continuous times visit scheduled. must time scale time_scheduled_continuous, values must one--one correspondence scheduled visits time_scheduled_label, baseline must value 0. time scale weeks, study team can create variable advance using time_scheduled_label (e.g. AVISIT). example, AVISIT \"Baseline\", time_scheduled_continuous must 0. time_scheduled_label \"Visit Number 5 (Week 24)\", time_scheduled_continuous 24. NCS subgroup analysis call single function: ncs_analysis_subgroup(). produces table summary statistics, including LS means confidence intervals. can plot model data.  -subgroup table: Within-subgroup table: -subgroup within-subgroup tables one row per study arm per timepoint per subgroup following columns. arm: study arm, .e. treatment group time: discrete visit time labels time_scheduled_label column data. subgroup: subgroup level n: number non-missing observations. est: observed mean response data. sd: observed standard deviation response data. se: observed standard error response data (just se / sqrt(n)). lower: lower bound observed 95% confidence interval data. upper: upper bound observed 95% confidence interval data. response_est: LS mean response. response_se: standard error LS mean response. response_df: degrees freedom LS mean response. response_lower: lower 95% confidence bound LS mean response. response_upper: upper 95% confidence bound LS mean response. change_est, change_lower, change_upper, change_se, change_df: like analogous response_* columns, LS mean change baseline. change_test_statistic: test statistic two-sided test LS mean change baseline equal 0, significance level 5%. change_p_value: change_test_statistic, p-value instead test statistic. diff_arm_est, diff_arm_se, diff_arm_df, diff_arm_lower, diff_arm_upper, diff_arm_test_statistic, diff_arm_p_value: analogous change_* columns, treatment differences. diff_subgroup_est, diff_subgroup_se, diff_subgroup_df, diff_subgroup_lower, diff_subgroup_upper, diff_subgroup_test_statistic, diff_subgroup_p_value: analogous *_arm_* columns, subgroup differences. percent_slowing_est LS mean percent slowing (percentage scale). percent_slowing_lower, percent_slowing_upper: conservative approximation confidence interval percent slowing. Assumes uncorrelated changes baseline. correlation: correlation structure analysis subgroup model. optimizer: optimizer analysis subgroup model. Type-III ANOVA fixed effects: also table subgroup interaction test: test likelihood ratio test full model subgroup-treatment interaction reduced model without subgroup-treatment interaction. table row full model, row reduced model, following columns. model: model, either full reduced. df: degrees freedom aic: Akaike Information Criterion bic: Bayesian Information Criterion loglik: log likelihood test_statistic: test statistic likelihood ratio test. p_value: p-value likelihood ratio test. correlation: correlation structures full reduced models interaction test. optimizer: optimizers full reduced models interaction test.","code":"set.seed(1) data_with_subgroup <-   mutate(     cross_join(       data.frame(         patient = do.call(paste0, expand.grid(LETTERS, letters))[1:120],         arm = rep(c(\"control\", \"active1\", \"active2\"), each = 40),         subgroup = rep(c(\"subgroup1\", \"subgroup2\", \"subgroup3\"), times = 40),         categorical1 = sample(paste0(\"level\", 1:3), 120, replace = TRUE),         categorical2 = sample(c(\"level1\", \"level2\"), 120, replace = TRUE),         continuous1 = rnorm(120),         continuous2 = rnorm(120)       ),       data.frame(         time_observed_index = seq_len(8),         time_scheduled_index = seq_len(8),         time_scheduled_label =           c(\"Baseline\", paste(\"visit\", c(3, 4, 5, 7, 8, 9, 12))),         time_scheduled_continuous = as.numeric(seq(from = 0, length.out = 8) / 4)       )     ),     time_observed_continuous =       time_scheduled_continuous + runif(n(), min = -0.1, max = 0.1),     response = rnorm(       n(),       mean =         10 - (1 * (arm == \"active1\") + 2 * (arm == \"active2\") +                 3 * (arm == \"control\")) * sqrt((time_observed_index / 4) -                                                  min(time_observed_index / 4))     )   ) head(data_with_subgroup) #>   patient     arm  subgroup categorical1 categorical2 continuous1 continuous2 #> 1      Aa control subgroup1       level1       level1  -0.9568919   0.6060734 #> 2      Aa control subgroup1       level1       level1  -0.9568919   0.6060734 #> 3      Aa control subgroup1       level1       level1  -0.9568919   0.6060734 #> 4      Aa control subgroup1       level1       level1  -0.9568919   0.6060734 #> 5      Aa control subgroup1       level1       level1  -0.9568919   0.6060734 #> 6      Aa control subgroup1       level1       level1  -0.9568919   0.6060734 #>   time_observed_index time_scheduled_index time_scheduled_label #> 1                   1                    1             Baseline #> 2                   2                    2              visit 3 #> 3                   3                    3              visit 4 #> 4                   4                    4              visit 5 #> 5                   5                    5              visit 7 #> 6                   6                    6              visit 8 #>   time_scheduled_continuous time_observed_continuous response #> 1                      0.00              -0.07428706 9.336270 #> 2                      0.25               0.23840196 9.916441 #> 3                      0.50               0.43845954 6.507177 #> 4                      0.75               0.73698012 7.510785 #> 5                      1.00               0.94502668 6.533178 #> 6                      1.25               1.34221926 9.607641 subgroup_results <-   ncs_analysis_subgroup(     data = data_with_subgroup,     response = \"response\",     subject = \"patient\",     arm = \"arm\",     control_group = \"control\",     subgroup = \"subgroup\",     subgroup_comparator = \"subgroup1\",     time_observed_continuous = \"time_observed_continuous\",     time_observed_index = \"time_observed_index\",     time_scheduled_continuous = \"time_scheduled_continuous\",     time_scheduled_label = \"time_scheduled_label\",     covariates = ~ continuous1 + categorical2,     cov_structs = c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"),     df = 3   ) ncs_plot_means_subgroup(subgroup_results$within) subgroup_results$between #> # A tibble: 72 × 30 #>    arm     time     subgroup      n   est    sd    se lower upper response_est #>    <fct>   <chr>    <fct>     <int> <dbl> <dbl> <dbl> <dbl> <dbl>        <dbl> #>  1 active1 Baseline subgroup1    13 10.2  1.05  0.292  9.60 10.7          9.83 #>  2 active1 Baseline subgroup2    14  9.72 1.19  0.317  9.10 10.3          9.85 #>  3 active1 Baseline subgroup3    13  9.81 1.14  0.317  9.18 10.4          9.80 #>  4 active2 Baseline subgroup1    13 10.3  1.60  0.444  9.39 11.1          9.83 #>  5 active2 Baseline subgroup2    13 10.1  1.06  0.295  9.53 10.7          9.85 #>  6 active2 Baseline subgroup3    14  9.92 0.741 0.198  9.53 10.3          9.80 #>  7 control Baseline subgroup1    14 10.2  1.20  0.320  9.52 10.8          9.83 #>  8 control Baseline subgroup2    13 10.3  1.45  0.402  9.50 11.1          9.85 #>  9 control Baseline subgroup3    13  9.88 0.896 0.249  9.39 10.4          9.80 #> 10 active1 visit 3  subgroup1    13  9.26 1.11  0.307  8.66  9.86         9.59 #> # ℹ 62 more rows #> # ℹ 20 more variables: response_se <dbl>, response_df <dbl>, #> #   response_lower <dbl>, response_upper <dbl>, change_est <dbl>, #> #   change_se <dbl>, change_df <dbl>, change_lower <dbl>, change_upper <dbl>, #> #   change_test_statistic <dbl>, change_p_value <dbl>, diff_subgroup_est <dbl>, #> #   diff_subgroup_se <dbl>, diff_subgroup_df <dbl>, diff_subgroup_lower <dbl>, #> #   diff_subgroup_upper <dbl>, diff_subgroup_test_statistic <dbl>, … subgroup_results$within #> # A tibble: 72 × 33 #>    arm     time     subgroup      n   est    sd    se lower upper response_est #>    <fct>   <chr>    <fct>     <int> <dbl> <dbl> <dbl> <dbl> <dbl>        <dbl> #>  1 active1 Baseline subgroup1    13 10.2  1.05  0.292  9.60 10.7          9.83 #>  2 active1 visit 3  subgroup1    13  9.26 1.11  0.307  8.66  9.86         9.59 #>  3 active1 visit 4  subgroup1    13  9.25 0.856 0.237  8.78  9.71         9.34 #>  4 active1 visit 5  subgroup1    13  9.42 1.01  0.280  8.87  9.97         9.07 #>  5 active1 visit 7  subgroup1    13  8.80 0.762 0.211  8.39  9.22         8.81 #>  6 active1 visit 8  subgroup1    13  8.82 1.03  0.286  8.26  9.38         8.64 #>  7 active1 visit 9  subgroup1    13  8.56 0.893 0.248  8.08  9.05         8.63 #>  8 active1 visit 12 subgroup1    13  8.72 1.15  0.319  8.09  9.34         8.72 #>  9 active2 Baseline subgroup1    13 10.3  1.60  0.444  9.39 11.1          9.83 #> 10 active2 visit 3  subgroup1    13  8.95 1.10  0.306  8.35  9.55         9.21 #> # ℹ 62 more rows #> # ℹ 23 more variables: response_se <dbl>, response_df <dbl>, #> #   response_lower <dbl>, response_upper <dbl>, change_est <dbl>, #> #   change_se <dbl>, change_df <dbl>, change_lower <dbl>, change_upper <dbl>, #> #   change_test_statistic <dbl>, change_p_value <dbl>, diff_arm_est <dbl>, #> #   diff_arm_se <dbl>, diff_arm_df <dbl>, diff_arm_lower <dbl>, #> #   diff_arm_upper <dbl>, diff_arm_test_statistic <dbl>, … subgroup_results$type3 #> # A tibble: 15 × 6 #>    effect            chisquare_test_stati…¹    df  p_value correlation optimizer #>    <chr>                              <dbl> <int>    <dbl> <chr>       <chr>     #>  1 spline_fn(time_o…               134.         1 4.36e-31 heterogene… mmrm+tmb  #>  2 spline_fn(time_o…               342.         1 2.23e-76 heterogene… mmrm+tmb  #>  3 spline_fn(time_o…               189.         1 6.16e-43 heterogene… mmrm+tmb  #>  4 subgroup                          0.0641     2 9.68e- 1 heterogene… mmrm+tmb  #>  5 continuous1                       1.72       1 1.90e- 1 heterogene… mmrm+tmb  #>  6 categorical2                      0.958      1 3.28e- 1 heterogene… mmrm+tmb  #>  7 spline_fn(time_o…                 0.770      2 6.80e- 1 heterogene… mmrm+tmb  #>  8 spline_fn(time_o…                 0.189      2 9.10e- 1 heterogene… mmrm+tmb  #>  9 spline_fn(time_o…                 0.514      2 7.73e- 1 heterogene… mmrm+tmb  #> 10 spline_fn(time_o…                24.7        2 4.26e- 6 heterogene… mmrm+tmb  #> 11 spline_fn(time_o…               376.         2 2.02e-82 heterogene… mmrm+tmb  #> 12 spline_fn(time_o…                42.0        2 7.62e-10 heterogene… mmrm+tmb  #> 13 spline_fn(time_o…                13.9        4 7.74e- 3 heterogene… mmrm+tmb  #> 14 spline_fn(time_o…                 2.62       4 6.23e- 1 heterogene… mmrm+tmb  #> 15 spline_fn(time_o…                 2.54       4 6.37e- 1 heterogene… mmrm+tmb  #> # ℹ abbreviated name: ¹​chisquare_test_statistic subgroup_results$interaction #>           model      aic      bic    loglik -2*log(l) test_statistic df #> 1 reduced model 2884.131 3040.231 -1386.066  2772.131             NA NA #> 2    full model 2891.246 3080.796 -1377.623  2755.246       16.88529 12 #>     p_value                correlation optimizer #> 1        NA heterogeneous unstructured  mmrm+tmb #> 2 0.1539634 heterogeneous unstructured  mmrm+tmb"},{"path":"https://nikkrieger.github.io/splinetrials/reference/bin_timepoints.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize Observed Timepoints According to Scheduled Timepoints — bin_timepoints","title":"Categorize Observed Timepoints According to Scheduled Timepoints — bin_timepoints","text":"Create ordered factor vector observed values, associating observed value level corresponding vector expected/scheduled values.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/bin_timepoints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize Observed Timepoints According to Scheduled Timepoints — bin_timepoints","text":"","code":"bin_timepoints(   observed,   scheduled = unique(observed[!is.na(observed)]),   breaks = c(-Inf, midpoints(scheduled), Inf),   labels = make_visit_labels(seq_along(scheduled) - 1),   ... )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/bin_timepoints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Categorize Observed Timepoints According to Scheduled Timepoints — bin_timepoints","text":"observed numeric vector values. scheduled numeric vector unique, finite values. Length must least 2. default take unique, finite values observed. breaks numeric vector unique values. -Inf Inf valid. Passed cut(). default take midpoints scheduled put c(-Inf, [Inf]). labels vector labels resulting ordered factor. Passed cut(). Must length() equal scheduled. Defaults \"Baseline\" first level's label \"Visit#\" subsequent levels, # numeric index timepoint minus 1. ... Additional arguments passed cut().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/bin_timepoints.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Categorize Observed Timepoints According to Scheduled Timepoints — bin_timepoints","text":"[ordered] factor length observed.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/bin_timepoints.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Categorize Observed Timepoints According to Scheduled Timepoints — bin_timepoints","text":"","code":"observed_timepoints <- c(0, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89) scheduled_timepoints <- c(0, 1, 2, 3, 4, 5, 10, 15, 20, 30, 50, 75) bin_timepoints(   observed_timepoints,   scheduled = scheduled_timepoints ) #>  [1] BASELINE VIS01    VIS02    VIS03    VIS05    VIS06    VIS07    VIS08    #>  [9] VIS09    VIS10    VIS11    #> 12 Levels: BASELINE < VIS01 < VIS02 < VIS03 < VIS04 < VIS05 < ... < VIS11  bin_timepoints(   observed_timepoints,   scheduled = scheduled_timepoints,   breaks = c(-Inf, 0.1, 1.5, 2.5, 3.5, 4.4, 7, 11, 15.1, 21, 31, 58, 80) ) #>  [1] BASELINE VIS01    VIS02    VIS03    VIS05    VIS06    VIS07    VIS08    #>  [9] VIS10    VIS10    <NA>     #> 12 Levels: BASELINE < VIS01 < VIS02 < VIS03 < VIS04 < VIS05 < ... < VIS11  bin_timepoints(   observed_timepoints,   scheduled = scheduled_timepoints,   labels = month.name ) #>  [1] January   February  March     April     June      July      August    #>  [8] September October   November  December  #> 12 Levels: January < February < March < April < May < June < ... < December  bin_timepoints(   observed_timepoints,   scheduled = scheduled_timepoints,   labels = make_visit_labels(scheduled_timepoints, visit = \"Week\") ) #>  [1] BASELINE Week01   Week02   Week03   Week05   Week10   Week15   Week20   #>  [9] Week30   Week50   Week75   #> 12 Levels: BASELINE < Week01 < Week02 < Week03 < Week04 < Week05 < ... < Week75  bin_timepoints(observed_timepoints) #>  [1] BASELINE VIS01    VIS02    VIS03    VIS04    VIS05    VIS06    VIS07    #>  [9] VIS08    VIS09    VIS10    #> 11 Levels: BASELINE < VIS01 < VIS02 < VIS03 < VIS04 < VIS05 < ... < VIS10"},{"path":"https://nikkrieger.github.io/splinetrials/reference/make_visit_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","title":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","text":"Create character vector values used labels factor.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/make_visit_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","text":"","code":"make_visit_labels(t, visit = \"VIS\", baseline = \"BASELINE\", pad = \"0\")"},{"path":"https://nikkrieger.github.io/splinetrials/reference/make_visit_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","text":"t non-empty numeric vector unique, finite elements ascending order. visit single character string specifying prefix add t. baseline single character string use first timepoint's label. Alternatively, set NULL timepoints prefix specified visit. pad character use pad visit t places t aligned. Alternatively, set NULL t automatically converted character without special formatting. can result numbers labels aligned \"alphabetical\" order.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/make_visit_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","text":"character vector length length(t).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/make_visit_labels.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","text":"Places visit prefix values t. pad NULL, values t first formatted places aligned, left-padded zeros. baseline NULL used first label regardless value t[1]. Uses make.unique(sep = \"_\") case elements identical formatting.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/make_visit_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make Visit Labels Based on a Numeric Vector — make_visit_labels","text":"","code":"make_visit_labels(c(0, 5, 13, 101)) #> [1] \"BASELINE\" \"VIS005\"   \"VIS013\"   \"VIS101\"    make_visit_labels(c(0, 5.23453, 13, 101.4)) #> [1] \"BASELINE\"     \"VIS005.23453\" \"VIS013.00000\" \"VIS101.40000\"  make_visit_labels(c(0, 5.23453, 13, 101.4), baseline = NULL, pad = \" \") #> [1] \"VIS  0.00000\" \"VIS  5.23453\" \"VIS 13.00000\" \"VIS101.40000\"  make_visit_labels(c(0, 5.23453, 13, 101.4), visit = \"Week\", pad = NULL) #> [1] \"BASELINE\"    \"Week5.23453\" \"Week13\"      \"Week101.4\""},{"path":"https://nikkrieger.github.io/splinetrials/reference/midpoints.html","id":null,"dir":"Reference","previous_headings":"","what":"Midpoints of a Numeric Vector — midpoints","title":"Midpoints of a Numeric Vector — midpoints","text":"Returns midpoints elements vector order elements appear.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/midpoints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Midpoints of a Numeric Vector — midpoints","text":"","code":"midpoints(x)"},{"path":"https://nikkrieger.github.io/splinetrials/reference/midpoints.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Midpoints of a Numeric Vector — midpoints","text":"x numeric vector least 2 elements.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/midpoints.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Midpoints of a Numeric Vector — midpoints","text":"numeric vector length length(x) - 1.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/midpoints.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Midpoints of a Numeric Vector — midpoints","text":"function sort.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/midpoints.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Midpoints of a Numeric Vector — midpoints","text":"","code":"midpoints(c(0, 1, 10, 4)) #> [1] 0.5 5.5 7.0"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"Fit analyze mmrm model wherein continuous time variable splines applied. ncs_analysis() fits model without involving subgroups. ncs_analysis_subgroup() fits model involves subgroups performs additional analyses.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"","code":"ncs_analysis(   data,   response = \"response\",   subject = \"subject\",   arm = \"arm\",   control_group,   time_observed_continuous = \"time_observed_continuous\",   df = 2,   spline_basis = NULL,   time_observed_index = \"time_observed_index\",   time_scheduled_continuous = \"time_scheduled_continuous\",   time_scheduled_baseline = 0,   time_scheduled_label = \"time_scheduled_label\",   covariates = ~1,   cov_structs = c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"),   cov_struct_group = NULL,   mmrm_args = list(method = \"Satterthwaite\"),   emmeans_args = list(nesting = NULL),   average_nuisance = TRUE,   conf.level = 0.95,   change_in_bl_contrast_args = list(adjust = \"none\"),   treatment_effect_contrast_args = list(adjust = \"none\"),   confint_args = list(level = conf.level),   return_models = FALSE,   expand_spline_terms = TRUE )  ncs_analysis_subgroup(   data,   response = \"response\",   subject = \"subject\",   arm = \"arm\",   control_group,   subgroup = \"subgroup\",   subgroup_comparator = \"subgroup1\",   time_observed_continuous = \"time_observed_continuous\",   df = 2,   spline_basis = NULL,   time_observed_index = \"time_observed_index\",   time_scheduled_continuous = \"time_scheduled_continuous\",   time_scheduled_baseline = 0,   time_scheduled_label = \"time_scheduled_label\",   covariates = ~1,   cov_structs = c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"),   cov_struct_group = NULL,   mmrm_args = list(method = \"Satterthwaite\"),   emmeans_args = list(nesting = NULL),   average_nuisance = TRUE,   conf.level = 0.95,   change_in_bl_contrast_args = list(adjust = \"none\"),   treatment_effect_contrast_args = list(adjust = \"none\"),   confint_args = list(level = conf.level),   subgroup_interaction_test = TRUE,   return_models = FALSE,   expand_spline_terms = TRUE )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"data (data frame) data set supplied data argument mmrm::mmrm() fitting models. supplied expression quoted must evaluate data frame. See Tidy evaluation support. response (numeric string) response variable. can string identifying name existing variable; otherwise, supplied expression quoted added formula (see Tidy evaluation support). subject (atomic string) unique subject identifier forwarded subject argument mmrm::cov_struct(). Ignored cov_structs list. Can string identifying existing variable; otherwise supplied expression quoted turned string rlang::expr_deparse() (see Tidy evaluation support). arm (factor string) study arm. must string name identifying existing variable (.e., call). name, quoted added model formula (see Tidy evaluation support). evaluate factor control_group first level, data argument wrapped dplyr::mutate() call forces case. control_group (string) value arm denoting control group. necessary, arm preprocessed factor control_group first level. time_observed_continuous (numeric string) visit's observed time point. must either string name identifying existing variable (.e., call). name provided, quoted incorporated model formula (see Tidy evaluation support). df (scalar integer) number degrees freedom use create spline basis. Passed df argument time_spline_basis(). Ignored spline_basis argument NULL. spline_basis (basis matrix) spline basis: probably value returned time_spline_basis() (wraps splines::ns()). NULL (default), spline basis result forwarding time_observed_continuous df time_spline_basis(). See Providing spline basis. time_observed_index (ordered string) visit index visit shall associated , based visit's observed time point. passed visits argument mmrm::cov_struct(). can string identifying existing variable; otherwise supplied expression quoted turned string rlang::expr_deparse() (see Tidy evaluation support). evaluate ordered factor, wrapped .ordered(). Ignored cov_structs list. time_scheduled_continuous (numeric string) continuous time point visit scheduled occur. unique values identify time points marginal means results calculated. can string identifying existing variable name; otherwise supplied expression quoted evaluated (see Tidy evaluation support). time_scheduled_baseline (scalar numeric) continuous time point baseline scheduled occur. Defaults 0. time_scheduled_label (character string) label associated scheduled visit. can string identifying existing variable name; otherwise supplied expression quoted evaluated (see Tidy evaluation support). covariates (formula) formula containing additional terms added mmrm model. Defaults ~ 1, additional terms added. Must left side. contain .. specify model shall intercept, use include + 0 - 1 formula. cov_structs (character list) either list unique cov_struct objects character vector one covariance structure abbreviations described mmrm::cov_types(). covariance structures attempted order one achieves converging model fit. Defaults c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"). cov_struct_group (atomic string) optional grouping variable passed group argument mmrm::cov_struct(). can string identifying existing variable name; otherwise supplied expression quoted turned string rlang::expr_deparse() (see Tidy evaluation support). Ignored cov_structs list. Defaults NULL, case grouping variable used. mmrm_args (named list) arguments passed mmrm::mmrm(). elements names formula, data, covariance ignored. element named vcov also ignored unless fitting model unstructured covariance. Defaults list(method = \"Satterthwaite\"). emmeans_args (named list) arguments passed emmeans::emmeans(). elements names object specs, ignored. average_nuisance = TRUE, element named nuisance ignored. elements named params may ignored. Defaults list(nesting = NULL). average_nuisance (flag) flag indicating whether names terms covariates supplied nuisance argument emmeans::emmeans(). results treating covariates nuisance parameters averaging calculating reference grid estimate marginal means. See emmeans::ref_grid() details limitations. conf.level (scalar numeric) confidence level calculation p-values. Defaults 0.95. change_in_bl_contrast_args, treatment_effect_contrast_args (named list) arguments passed emmeans::contrast() calculating change baseline treatment effect results. elements names object method ignored. Defaults list(adjust = \"none\"). confint_args (named list) arguments passed stats::confint() calculating confidence intervals change baseline treatment effect. element name object ignored. Defaults list(level = conf.level). return_models (flag) flag indicating whether return model(s) used calculate results. See Obtaining models used . expand_spline_terms (flag) flag indicating whether separate cubic spline matrix separate terms (one degree freedom). Defaults TRUE. See Expanding spline terms. subgroup (factor string) subgroup. must string name identifying existing variable (.e., call). name, quoted added model formula (see Tidy evaluation support). evaluate factor subgroup_comparator first level, data argument wrapped dplyr::mutate() call forces case. subgroup_comparator (string) value subgroup denoting \"main\" subgroup subgroups compared . necessary, subgroup preprocessed factor control_group first level. subgroup_interaction_test (flag) flag indicating whether subgroup interaction test performed. TRUE, returned value include interaction element, data frame results. Defaults TRUE. See Subgroup interaction test details.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"ncs_analysis(), see splinetrials_analysis. ncs_analysis_subgroup(), see splinetrials_subgroup_analysis.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"overview","dir":"Reference","previous_headings":"","what":"Overview","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"functions create mmrm model user-specified arguments. perform series analyses produce data frame results unique row combination arm, time_scheduled_continuous, subgroup (ncs_analysis_subgroup() ). results include: Basic diagnostics response variable Estimated marginal means Change baseline Treatment effect Percent slowing","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"building-a-model","dir":"Reference","previous_headings":"","what":"Building a model","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"See details ncs_mmrm_fit() information model built.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"subgroup-analysis","dir":"Reference","previous_headings":"","what":"Subgroup analysis","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"ncs_analysis_subgroup() contains analyses results ncs_analysis(). Whereas latter produces data frame default, former produces list data frames.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"treatment-effects","dir":"Reference","previous_headings":"","what":"Treatment effects","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"treatment effect calculated twice: subgroups (examining differences subgroups within study arm) within subgroups (examining differences study arms within subgroup). main results table effectively returned twice element within element. elements' treatment effect values differ, within element contains percent slowing analysis results.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"type-iii-anova","dir":"Reference","previous_headings":"","what":"Type-III ANOVA","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"subgroup analyses include type-III analysis variance (ANOVA) main analysis model's terms, using Chi-squared test statistic. accomplished via mmrm method car::Anova(). results included returned value type3 element. See vignette(\"hypothesis_testing\", \"mmrm\") details type-III ANOVA.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"subgroup-interaction-test","dir":"Reference","previous_headings":"","what":"Subgroup interaction test","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"subgroup_interaction_test = TRUE, function runs ANOVA compare maximum-likelihood-estimated (ML) version original model reduced version. happens follows: original analysis model refit reml = FALSE originally created reml = TRUE. may dubbed \"full\" model. reduced version \"full\" model created, removing second-order interaction term (see arm subgroup terms section ). may dubbed \"reduced\" model. \"full\" \"reduced\" models compared using mmrm method stats::anova(). results processed table added returned value interaction element.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"returning-the-models-used","dir":"Reference","previous_headings":"","what":"Returning the models used","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"model(s) used conduct analyses can obtained setting return_models = TRUE. ncs_analysis(), analysis model included splinetrials_analysis_model attribute returned value. ncs_analysis_subgroup(), analysis model added returned value analysis_model element. Furthermore, subgroup_interaction_test = TRUE, \"full\" \"reduced\" models included returned value elements full reduced (see Subgroup interaction test details).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_analysis_subgroup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a Natural Cubic Spline (NCS) Analysis. — ncs_analysis","text":"","code":"if (FALSE) { # interactive() # Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  # Without subgroup: ncs_analysis(   data = fev_mod,   response = FEV1,   subject = USUBJID,   arm = ARMCD,   control_group = \"PBO\",   time_observed_continuous = time_cont,   df = 2,   time_observed_index = obs_visit_index,   time_scheduled_continuous = VISITN,   time_scheduled_baseline = 10,   time_scheduled_label = AVISIT,   covariates = ~ FEV1_BL + RACE,   cov_structs = c(\"ar1\", \"us\") )  # With subgroup: ncs_analysis_subgroup(   data = fev_mod,   response = FEV1,   subject = USUBJID,   arm = ARMCD,   control_group = \"PBO\",   subgroup = SEX,   subgroup_comparator = \"Male\",   time_observed_continuous = time_cont,   df = 2,   time_observed_index = obs_visit_index,   time_scheduled_continuous = VISITN,   time_scheduled_baseline = 10,   time_scheduled_label = AVISIT,   covariates = ~ FEV1_BL + RACE,   cov_structs = c(\"ar1\", \"us\") ) }"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_emmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Marginal Means for a Natural Cubic Splines Analysis — ncs_emmeans","title":"Estimate Marginal Means for a Natural Cubic Splines Analysis — ncs_emmeans","text":"wrapper around emmeans::emmeans() natural cubic splines analysis continuous time variable, study arm, (optionally) subgroup variable.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_emmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Marginal Means for a Natural Cubic Splines Analysis — ncs_emmeans","text":"","code":"ncs_emmeans(   fit,   data = fit[[\"data\"]],   observed_time = NULL,   scheduled_time = NULL,   arm = NULL,   subgroup = NULL,   average_nuisance = TRUE,   emmeans_args = list(nesting = NULL),   ...,   scheduled_time_spec = sort(unique(data[[scheduled_time]])),   arm_spec = as.character(sort(unique(data[[arm]]))),   subgroup_spec = as.character(sort(unique(data[[subgroup]]))),   .__caller_env = rlang::caller_env() )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_emmeans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Marginal Means for a Natural Cubic Splines Analysis — ncs_emmeans","text":"fit (mmrm) mmrm object whose terms include variables supplied observed_time, scheduled_time, arm, (optionally) subgroup. data (data frame) data frame estimate marginal means. Defaults fit[[\"data\"]]. observed_time (string) string specifying observed continuous time variable fit data. scheduled_time (string) string specifying scheduled continuous time variable fit data. Ignored scheduled_time_spec provided. arm (string) string specifying study arm variable fit data. subgroup (string) string specifying subgroup variable fit data. average_nuisance (flag) flag indicating whether names terms covariates supplied nuisance argument emmeans::emmeans(). results treating covariates nuisance parameters averaging calculating reference grid estimate marginal means. See emmeans::ref_grid() details limitations. emmeans_args, ... (named list) arguments passed emmeans::emmeans(). elements names object, specs, ignored. average_nuisance = TRUE, element named nuisance ignored. elements named params may ignored. emmeans_args defaults list(nesting = NULL). Arguments named emmeans_args supersede named arguments .... scheduled_time_spec (numeric) vector unique, non-missing time points calculate marginal means. Defaults sort(unique(data[[scheduled_time]])). arm_spec (character) vector unique study arm values calculate marginal means. Defaults .character(sort(unique(data[[arm]]))). subgroup_spec vector unique subgroup values calculate marginal means. Ignored subgroup NULL. Defaults .character(sort(unique(data[[subgroup]]))). .__caller_env (environment) environment function called. Defaults rlang::caller_env().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_emmeans.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Marginal Means for a Natural Cubic Splines Analysis — ncs_emmeans","text":"object class emmGrid: result emmeans::emmeans(). Note result result, elements result@model.info$nesting result@misc$display removed.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_emmeans.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Marginal Means for a Natural Cubic Splines Analysis — ncs_emmeans","text":"","code":"# Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  fit <-   ncs_mmrm_fit(     data = fev_mod,     type = \"subgroup_full\",     response = FEV1,     subject = USUBJID,     cov_structs = c(\"ar1\", \"us\"),     time_observed_continuous = time_cont,     df = 2,     time_observed_index = obs_visit_index,     time_scheduled_continuous = VISITN,     arm = ARMCD,     control_group = \"PBO\",     subgroup = SEX,     subgroup_comparator = \"Male\",     covariates = ~ FEV1_BL + RACE   )  ncs_emmeans(   fit = fit,   observed_time = \"time_cont\",   scheduled_time = \"VISITN\",   arm = \"ARMCD\",   subgroup = \"SEX\" ) #>  ARMCD time_cont SEX    emmean    SE   df lower.CL upper.CL #>  PBO          10 Male     32.9 0.826 60.4     31.2     34.6 #>  TRT          10 Male     36.1 0.796 56.4     34.5     37.7 #>  PBO          20 Male     37.4 0.711 43.9     35.9     38.8 #>  TRT          20 Male     42.9 0.748 36.4     41.4     44.4 #>  PBO          30 Male     42.3 0.507 48.8     41.3     43.3 #>  TRT          30 Male     48.2 0.850 40.2     46.5     49.9 #>  PBO          40 Male     47.7 1.560 35.4     44.5     50.8 #>  TRT          40 Male     52.3 1.580 31.3     49.1     55.5 #>  PBO          10 Female   35.3 0.754 66.8     33.8     36.8 #>  TRT          10 Female   36.9 0.852 69.6     35.2     38.6 #>  PBO          20 Female   38.4 0.641 49.4     37.1     39.7 #>  TRT          20 Female   41.2 0.638 47.0     39.9     42.5 #>  PBO          30 Female   43.4 0.617 55.4     42.1     44.6 #>  TRT          30 Female   46.5 0.652 52.5     45.2     47.8 #>  PBO          40 Female   49.9 1.330 36.7     47.2     52.6 #>  TRT          40 Female   52.6 1.700 36.6     49.1     56.0 #>  #> Results are averaged over the levels of: 2 nuisance factors, obs_visit_index  #> Confidence level used: 0.95"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"Builds mmrm model includes study arm, optionally subgroup, natural cubic splines applied continuous time variable. wrapper around mmrm::mmrm(). Constructs call mmrm::mmrm() ncs analysis. Implements natural cubic splines continuous time variable. Attempts sequence covariance structures order one successfully converges. Title","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"","code":"ncs_mmrm_fit(   data,   type = c(\"basic\", \"subgroup_full\", \"subgroup_reduced\"),   response,   subject,   cov_structs = c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"),   cov_struct_group = NULL,   time_observed_continuous,   df = 2,   spline_basis = NULL,   time_observed_index,   time_scheduled_continuous = NULL,   arm = NULL,   control_group = \"control\",   subgroup = NULL,   subgroup_comparator = NULL,   covariates = ~1,   expand_spline_terms = TRUE,   mmrm_args = list(method = \"Satterthwaite\"),   ... )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"data (data frame) data set supplied data argument mmrm::mmrm() fitting models. supplied expression quoted must evaluate data frame. See Tidy evaluation support. type (string) one \"basic\", \"subgroup_full\", \"subgroup_reduced\". response (numeric string) response variable. can string identifying name existing variable; otherwise, supplied expression quoted added formula (see Tidy evaluation support). subject (atomic string) unique subject identifier forwarded subject argument mmrm::cov_struct(). Ignored cov_structs list. Can string identifying existing variable; otherwise supplied expression quoted turned string rlang::expr_deparse() (see Tidy evaluation support). cov_structs (character list) either list unique cov_struct objects character vector one covariance structure abbreviations described mmrm::cov_types(). covariance structures attempted order one achieves converging model fit. Defaults c(\"us\", \"toeph\", \"ar1h\", \"csh\", \"cs\"). cov_struct_group (atomic string) optional grouping variable passed group argument mmrm::cov_struct(). can string identifying existing variable name; otherwise supplied expression quoted turned string rlang::expr_deparse() (see Tidy evaluation support). Ignored cov_structs list. Defaults NULL, case grouping variable used. time_observed_continuous (numeric string) visit's observed time point. must either string name identifying existing variable (.e., call). name provided, quoted incorporated model formula (see Tidy evaluation support). df (scalar integer) number degrees freedom use create spline basis. Passed df argument time_spline_basis(). Ignored spline_basis argument NULL. spline_basis (basis matrix) spline basis: probably value returned time_spline_basis() (wraps splines::ns()). NULL (default), spline basis result forwarding time_observed_continuous df time_spline_basis(). See Providing spline basis. time_observed_index (ordered string) visit index visit shall associated , based visit's observed time point. passed visits argument mmrm::cov_struct(). can string identifying existing variable; otherwise supplied expression quoted turned string rlang::expr_deparse() (see Tidy evaluation support). evaluate ordered factor, wrapped .ordered(). Ignored cov_structs list. time_scheduled_continuous (numeric string) continuous time point visit scheduled occur. unique values identify time points marginal means results calculated. can string identifying existing variable name; otherwise supplied expression quoted evaluated (see Tidy evaluation support). arm (factor string) study arm. must string name identifying existing variable (.e., call). name, quoted added model formula (see Tidy evaluation support). evaluate factor control_group first level, data argument wrapped dplyr::mutate() call forces case. control_group (string) value arm denoting control group. necessary, arm preprocessed factor control_group first level. subgroup (factor string) subgroup. must string name identifying existing variable (.e., call). name, quoted added model formula (see Tidy evaluation support). evaluate factor subgroup_comparator first level, data argument wrapped dplyr::mutate() call forces case. subgroup_comparator (string) value subgroup denoting \"main\" subgroup subgroups compared . necessary, subgroup preprocessed factor control_group first level. covariates (formula) formula containing additional terms added mmrm model. Defaults ~ 1, additional terms added. Must left side. contain .. specify model shall intercept, use include + 0 - 1 formula. expand_spline_terms (flag) flag indicating whether separate cubic spline matrix separate terms (one degree freedom). Defaults TRUE. See Expanding spline terms. mmrm_args (named list) arguments passed mmrm::mmrm(). elements names formula, data, covariance ignored. element named vcov also ignored unless fitting model unstructured covariance. Defaults list(method = \"Satterthwaite\"). ... additional arguments passed mmrm::mmrm(). elements names formula, data, covariance ignored. element named vcov also ignored unless fitting model unstructured covariance. Defaults list(method = \"Satterthwaite\"). Arguments named mmrm_args supersede named arguments ....","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"mmrm object created mmrm::mmrm().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"providing-a-spline-basis","dir":"Reference","previous_headings":"","what":"Providing a spline basis","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"function's spline_basis argument designed splines::ns() mind, creates matrix object classes basis matrix well multiple attributes. theory, spline_basis matrix; however, still must stats::predict() method wherein stats::predict(spline_basis, data[[time_observed_continuous]]) produces object can serve term model.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"covariance-structures","dir":"Reference","previous_headings":"","what":"Covariance structures","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"user specifies covariance structure candidates via cov_structs argument. structures attempted order model converges successfully. covariance structure \"us\" (heterogeneous unstructured) used, \"Empirical-Bias-Reduced\" passed mmrm::mmrm() vcov argument (see mmrm::mmrm_control()). fitting models, analysis functions specify covariance structure covariance argument mmrm::mmrm().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"building-the-model-formula","dir":"Reference","previous_headings":"","what":"Building the model formula","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"analysis functions automatically build model formula arguments. user remove auto-generated terms, terms can added via covariates argument.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"time-spline-terms","dir":"Reference","previous_headings":"","what":"Time spline terms","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"Natural cubic splines applied time_observed_continuous variable data. splines constructed according user-specified spline_basis. custom spline_fn() constructed hood accepts time_observed_continuous produces spline matrix based spline_basis. Thus, model formula includes time spline term resembling spline_fn(time_observed_continuous).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"arm-and-subgroup-terms","dir":"Reference","previous_headings":"","what":"arm and subgroup terms","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"generated models include interaction term time spline term study arm term, arm included main effect default. desired, use covariates argument (e.g., specify covariates = ~ arm). Concerning ncs_analysis_subgroup(), subgroup variable included main effect, interaction time spline also included. Furthermore, second-order interaction term time spline, subgroup, arm also included main analysis model \"full\" model (subgroup_interaction_test = TRUE; see Subgroup interaction test ).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"adding-terms-with-covariates","dir":"Reference","previous_headings":"","what":"Adding terms with covariates","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"user can specify additional terms covariates argument, must formula. user specify covariance structure argument. See Covariance structures section . user can remove intercept model including 0 term covariates.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"model-formula-templates","dir":"Reference","previous_headings":"","what":"Model formula templates","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"model formulas analysis functions construct take form formula templates .","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"ncs-analysis-i-e-no-subgroup-","dir":"Reference","previous_headings":"","what":"ncs_analysis() (i.e., no subgroup)","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"","code":"response ~   spline_fn(time_observed_continuous) +   spline_fn(time_observed_continuous):arm {+   covariates}"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"ncs-analysis-subgroup-","dir":"Reference","previous_headings":"","what":"ncs_analysis_subgroup()","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"Main analysis model \"full\" model:   \"reduced\" model:","code":"response ~   spline_fn(time_observed_continuous) +   subgroup +   spline_fn(time_observed_continuous):subgroup +   spline_fn(time_observed_continuous):arm +   spline_fn(time_observed_continuous):subgroup:arm {+   covariates} response ~   spline_fn(time_observed_continuous) +   subgroup +   spline_fn(time_observed_continuous):subgroup +   spline_fn(time_observed_continuous):arm {+   covariates}"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"expanding-spline-terms","dir":"Reference","previous_headings":"","what":"Expanding spline terms","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"expand_spline_terms = TRUE spline_basis least two dimensions (e.g., matrix, typical), spline term split multiple terms: one columns. instance, user specifies spline_basis 3 degrees freedom, -subgroup model formula template become:","code":"response ~   spline_fn(time_observed_continuous)[, 1] +   spline_fn(time_observed_continuous)[, 2] +   spline_fn(time_observed_continuous)[, 3] +   spline_fn(time_observed_continuous)[, 1]:arm +   spline_fn(time_observed_continuous)[, 2]:arm +   spline_fn(time_observed_continuous)[, 3]:arm {+   covariates}"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_mmrm_fit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Mixed Model with Repeated Measures Using Natural Cubic Splines. — ncs_mmrm_fit","text":"","code":"# Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  # Example without subgroup: ncs_mmrm_fit(   data = fev_mod,   type = \"basic\",   response = FEV1,   subject = USUBJID,   cov_structs = c(\"ar1\", \"us\"),   time_observed_continuous = time_cont,   df = 2,   time_observed_index = obs_visit_index,   time_scheduled_continuous = VISITN,   arm = ARMCD,   control_group = \"PBO\",   covariates = ~ FEV1_BL + RACE ) #> In as.ordered(obs_visit_index) there are dropped visits: 27, 33. #>  Additional attributes including contrasts are lost. #> To avoid this behavior, make sure use `drop_visit_levels = FALSE`. #> mmrm fit #>  #> Formula:     FEV1 ~ spline_fn(time_cont)[, 1] + spline_fn(time_cont)[, 2] +   #>     FEV1_BL + RACE + spline_fn(time_cont)[, 1]:ARMCD + spline_fn(time_cont)[,   #>     2]:ARMCD #> Data:        fev_mod (used 537 observations from 197 subjects with maximum 23  #> timepoints) #> Covariance:  auto-regressive order one (2 variance parameters) #> Inference:   REML #> Deviance:    3519.085 #>  #> Coefficients:  #>                        (Intercept)          spline_fn(time_cont)[, 1]  #>                         21.9675040                         21.6539457  #>          spline_fn(time_cont)[, 2]                            FEV1_BL  #>                         16.2898692                          0.1697069  #>      RACEBlack or African American                          RACEWhite  #>                          0.4284112                          5.2781845  #> spline_fn(time_cont)[, 1]:ARMCDTRT spline_fn(time_cont)[, 2]:ARMCDTRT  #>                          7.5780942                          0.3654192  #>  #> Model Inference Optimization: #> Converged with code 0 and message: convergence: rel_reduction_of_f <= factr*epsmch  # Example with subgroup: ncs_mmrm_fit(   data = fev_mod,   type = \"subgroup_full\",   response = FEV1,   subject = USUBJID,   cov_structs = c(\"ar1\", \"us\"),   time_observed_continuous = time_cont,   df = 2,   time_observed_index = obs_visit_index,   time_scheduled_continuous = VISITN,   arm = ARMCD,   control_group = \"PBO\",   subgroup = SEX,   subgroup_comparator = \"Male\",   covariates = ~ FEV1_BL + RACE ) #> In as.ordered(obs_visit_index) there are dropped visits: 27, 33. #>  Additional attributes including contrasts are lost. #> To avoid this behavior, make sure use `drop_visit_levels = FALSE`. #> mmrm fit #>  #> Formula:     FEV1 ~ spline_fn(time_cont)[, 1] + spline_fn(time_cont)[, 2] +   #>     SEX + FEV1_BL + RACE + spline_fn(time_cont)[, 1]:SEX + spline_fn(time_cont)[,   #>     2]:SEX + spline_fn(time_cont)[, 1]:ARMCD + spline_fn(time_cont)[,   #>     2]:ARMCD + spline_fn(time_cont)[, 1]:SEX:ARMCD + spline_fn(time_cont)[,   #>     2]:SEX:ARMCD #> Data:        fev_mod (used 537 observations from 197 subjects with maximum 23  #> timepoints) #> Covariance:  auto-regressive order one (2 variance parameters) #> Inference:   REML #> Deviance:    3495.243 #>  #> Coefficients:  #>                                  (Intercept)  #>                                  19.04064075  #>                    spline_fn(time_cont)[, 1]  #>                                  26.03036523  #>                    spline_fn(time_cont)[, 2]  #>                                  16.16544536  #>                                    SEXFemale  #>                                   4.84326016  #>                                      FEV1_BL  #>                                   0.17108349  #>                RACEBlack or African American  #>                                   0.62450086  #>                                    RACEWhite  #>                                   5.45148575  #>          spline_fn(time_cont)[, 1]:SEXFemale  #>                                  -7.52228108  #>          spline_fn(time_cont)[, 2]:SEXFemale  #>                                   0.36217537  #>           spline_fn(time_cont)[, 1]:ARMCDTRT  #>                                  10.16711616  #>           spline_fn(time_cont)[, 2]:ARMCDTRT  #>                                   0.01344647  #> spline_fn(time_cont)[, 1]:SEXFemale:ARMCDTRT  #>                                  -4.60721973  #> spline_fn(time_cont)[, 2]:SEXFemale:ARMCDTRT  #>                                   0.38589869  #>  #> Model Inference Optimization: #> Converged with code 0 and message: convergence: rel_reduction_of_f <= factr*epsmch"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Actual and Predicted Response Variable Means by Study Arm. — ncs_plot_means","title":"Plot Actual and Predicted Response Variable Means by Study Arm. — ncs_plot_means","text":"function accepts data set, probably produced ncs_analysis(), uses ggplot2 produce panel plots, one study arm. time variable along x-axis, response variable along y-axis. actual means response variable points plotted one color, modeled means plotted another color. point also confidence interval plotted.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Actual and Predicted Response Variable Means by Study Arm. — ncs_plot_means","text":"","code":"ncs_plot_means(   data,   arm = \"arm\",   time = \"time\",   est = \"est\",   lower = \"lower\",   upper = \"upper\",   model_est = \"response_est\",   model_lower = \"response_lower\",   model_upper = \"response_upper\" )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Actual and Predicted Response Variable Means by Study Arm. — ncs_plot_means","text":"data (data frame) data frame, probably produced ncs_analysis(), containing actual predicted means. row unique combination arm time. arm (string) name study arm variable data. separate plot produced study arm. time (string) name time visit variable data. values correspond x-axis. est, lower, upper (string) name variables data containing actual response variable's mean confidence interval bounds. values correspond y-axis. model_est, model_lower, model_upper (string) name variables data containing predicted response variable's mean confidence interval bounds. values correspond y-axis.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Actual and Predicted Response Variable Means by Study Arm. — ncs_plot_means","text":"object returned ggplot2::ggplot().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Actual and Predicted Response Variable Means by Study Arm. — ncs_plot_means","text":"","code":"# Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  # Analysis result data set ncs_data_results <-   ncs_analysis(     data = fev_mod,     response = FEV1,     subject = USUBJID,     arm = ARMCD,     control_group = \"PBO\",     time_observed_continuous = time_cont,     df = 2,     time_observed_index = obs_visit_index,     time_scheduled_continuous = VISITN,     time_scheduled_baseline = 10,     time_scheduled_label = AVISIT,     covariates = ~ FEV1_BL + RACE,     cov_structs = c(\"ar1\", \"us\")   ) #> In as.ordered(obs_visit_index) there are dropped visits: 13, 43. #>  Additional attributes including contrasts are lost. #> To avoid this behavior, make sure use `drop_visit_levels = FALSE`.  ncs_plot_means(ncs_data_results)"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means_subgroup.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Actual and Predicted Response Variable Means by Study Arm and Subgroup. — ncs_plot_means_subgroup","title":"Plot Actual and Predicted Response Variable Means by Study Arm and Subgroup. — ncs_plot_means_subgroup","text":"function accepts data set, probably produced ncs_analysis_subgroup(), uses ggplot2 produce grid plots, one combination study arm subgroup. time variable along x-axis, response variable along y-axis. actual means response variable points plotted one color, modeled means plotted another color. point also confidence interval plotted.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means_subgroup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Actual and Predicted Response Variable Means by Study Arm and Subgroup. — ncs_plot_means_subgroup","text":"","code":"ncs_plot_means_subgroup(   data,   arm = \"arm\",   time = \"time\",   subgroup = \"subgroup\",   est = \"est\",   lower = \"lower\",   upper = \"upper\",   model_est = \"response_est\",   model_lower = \"response_lower\",   model_upper = \"response_upper\" )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means_subgroup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Actual and Predicted Response Variable Means by Study Arm and Subgroup. — ncs_plot_means_subgroup","text":"data (data frame) data frame, probably produced ncs_analysis(), containing actual predicted means. row unique combination arm, time, subgroup. arm (string) name study arm variable data. separate column plots produced study arm. time (string) name time visit variable data. values correspond x-axis. subgroup (string) name subgroup variable data. separate row plots produced subgroup. est, lower, upper (string) name variables data containing actual response variable's mean confidence interval bounds. values correspond y-axis. model_est, model_lower, model_upper (string) name variables data containing predicted response variable's mean confidence interval bounds. values correspond y-axis.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means_subgroup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Actual and Predicted Response Variable Means by Study Arm and Subgroup. — ncs_plot_means_subgroup","text":"object returned ggplot2::ggplot().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/ncs_plot_means_subgroup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Actual and Predicted Response Variable Means by Study Arm and Subgroup. — ncs_plot_means_subgroup","text":"","code":"if (FALSE) { # interactive() # Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  # Analysis result data set ncs_data_results_subgroup <-   ncs_analysis_subgroup(     data = fev_mod,     response = FEV1,     subject = USUBJID,     arm = ARMCD,     control_group = \"PBO\",     subgroup = RACE,     subgroup_comparator = \"Asian\",     time_observed_continuous = time_cont,     df = 2,     time_observed_index = obs_visit_index,     time_scheduled_continuous = VISITN,     time_scheduled_baseline = 10,     time_scheduled_label = AVISIT,     covariates = ~ FEV1_BL + RACE,     cov_structs = c(\"ar1\", \"us\")   )  ncs_plot_means_subgroup(ncs_data_results_subgroup$between) }"},{"path":"https://nikkrieger.github.io/splinetrials/reference/percent_slowing_using_change_from_bl.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","title":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","text":"Accepts data frame change--baseline data (probably created change_from_baseline()) returns table percent slowing results.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/percent_slowing_using_change_from_bl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","text":"","code":"percent_slowing_using_change_from_bl(   change_from_bl_tbl,   time_observed_continuous,   arm,   control_group,   subgroup = NULL,   est = \"estimate\",   se = \"SE\",   conf.level = 0.95 )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/percent_slowing_using_change_from_bl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","text":"change_from_bl_tbl (data frame) data frame change--baseline data whose columns include time_observed_continuous, arm, (optionally) subgroup, est, se. time_observed_continuous, arm, subgroup, est, se (string) strings identifying columns change_from_bl_tbl contain continuous time variable, study arm, (optionally) subgroup, change--baseline estimate, change--baseline standard error. control_group (string) value arm column change_from_bl_tbl denoting control group. conf.level (scalar numeric) confidence level calculation p-values. Defaults 0.95.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/percent_slowing_using_change_from_bl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","text":"data frame row combination unique values change_from_bl_tbl[[time_observed_continuous]], change_from_bl_tbl[[arm]] (except value denoted control_group), change_from_bl_tbl[[subgroup]] (subgroup NULL). contain following columns: {column name value arm argument}: study arm. {column name value time_observed_continuous argument}: observed continuous time variable. {column name value subgroup argument}: subgroup. present subgroup NULL. percent_slowing_est: percent slowing estimate percent_slowing_lower: lower bound confidence interval percent_slowing_est. percent_slowing_lower: upper bound confidence interval percent_slowing_est.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/percent_slowing_using_change_from_bl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","text":"study arm control group, $$ \\text{Let } \\theta = \\frac{\\text{treatment estimate}}{\\text{control estimate}} $$$$ \\text{Let } \\alpha = 1 - \\code{conf.level} $$$$ \\text{Let MOE} = 100 \\times z_{1 - \\alpha/2} \\times \\frac{\\sqrt{\\text{treatment SE}^2 + (\\theta \\times \\text{control SE})^2}}{|\\text{control estimate}|} $$ Therefore, percent slowing estimates respective confidence intervals calculated thus: $$ \\text{Percent slowing estimate} = (1 - \\theta) \\times 100 $$$$ \\text{Percent slowing CI} = \\text{Percent slowing estimate} \\pm \\text{MOE} $$","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/percent_slowing_using_change_from_bl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculates Percent Slowing from a Data Frame of Change-from-Baseline Data — percent_slowing_using_change_from_bl","text":"","code":"# Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  fit <-   ncs_mmrm_fit(     data = fev_mod,     type = \"subgroup_full\",     response = FEV1,     subject = USUBJID,     cov_structs = c(\"ar1\", \"us\"),     time_observed_continuous = time_cont,     df = 2,     time_observed_index = obs_visit_index,     time_scheduled_continuous = VISITN,     arm = ARMCD,     control_group = \"PBO\",     subgroup = SEX,     subgroup_comparator = \"Male\",     covariates = ~ FEV1_BL + RACE   )  marginal_means <-   ncs_emmeans(     fit = fit,     observed_time = \"time_cont\",     scheduled_time = \"VISITN\",     arm = \"ARMCD\",     subgroup = \"SEX\"   )  change_from_bl_tbl <-   change_from_baseline(     emmeans = marginal_means,     time_observed_continuous = \"time_cont\",     time_scheduled_baseline = 10,     arm = \"ARMCD\",     subgroup = \"SEX\",     as_tibble = TRUE   )  percent_slowing_using_change_from_bl(   change_from_bl_tbl = change_from_bl_tbl,   time_observed_continuous = \"time_cont\",   arm = \"ARMCD\",   control_group = \"PBO\",   subgroup = \"SEX\" ) #> # A tibble: 6 × 6 #>   ARMCD time_cont SEX    percent_slowing_est percent_slowing_lower #>   <fct>     <dbl> <fct>                <dbl>                 <dbl> #> 1 TRT          20 Male                -45.1                  -95.0 #> 2 TRT          30 Male                -26.2                  -55.9 #> 3 TRT          40 Male                 -8.90                 -43.4 #> 4 TRT          20 Female              -32.3                  -97.1 #> 5 TRT          30 Female              -19.6                  -54.0 #> 6 TRT          40 Female              -10.8                  -45.4 #> # ℹ 1 more variable: percent_slowing_upper <dbl>"},{"path":"https://nikkrieger.github.io/splinetrials/reference/plot_outcome_by_visit_and_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Outcome Variable by Timepoint and Study Arm — plot_outcome_by_visit_and_group","title":"Plot Outcome Variable by Timepoint and Study Arm — plot_outcome_by_visit_and_group","text":"Plot continuous outcome combination scheduled visit study arm.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/plot_outcome_by_visit_and_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Outcome Variable by Timepoint and Study Arm — plot_outcome_by_visit_and_group","text":"","code":"plot_outcome_by_visit_and_group(   data,   outcome_var,   scheduled_timepoint_var,   group_var,   ...,   geom = ggplot2::geom_boxplot,   geom_args = list(na.rm = TRUE) )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/plot_outcome_by_visit_and_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Outcome Variable by Timepoint and Study Arm — plot_outcome_by_visit_and_group","text":"data (data frame) data frame supplied ggplot2::ggplot(). outcome_var (numeric) continuous outcome variable supply y argument ggplot2::aes(). Whatever supplied quoted evaluated context data. scheduled_timepoint_var (ordered) variable containing scheduled timepoints supply x argument ggplot2::aes().. Whatever supplied quoted evaluated context data. group_var (numeric) grouping variable (probably study arm) supply fill argument ggplot2::aes().. Whatever supplied quoted evaluated context data. ... Forwarded onto ggplot2::ggplot(ggplot2::aes). geom (function) ggplot2 \"geom\" use. Defaults ggplot2::geom_boxplot(). geom_args (list) list arguments supply geom. Defaults list(na.rm = TRUE).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/plot_outcome_by_visit_and_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Outcome Variable by Timepoint and Study Arm — plot_outcome_by_visit_and_group","text":"ggplot object.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/plot_outcome_by_visit_and_group.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Outcome Variable by Timepoint and Study Arm — plot_outcome_by_visit_and_group","text":"","code":"# Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  plot_outcome_by_visit_and_group(     data = fev_mod,     outcome_var = FEV1,     scheduled_timepoint_var = ordered(VISITN),     group_var = ARMCD )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_analysis-class.html","id":null,"dir":"Reference","previous_headings":"","what":"splinetrials_analysis object — splinetrials_analysis-class","title":"splinetrials_analysis object — splinetrials_analysis-class","text":"ncs_analysis() returns object class splinetrials_analysis: 32-column tibble one row per unique combination data[[arm]] data[[time_scheduled_label]] (see arguments ncs_analysis()).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_analysis-class.html","id":"columns","dir":"Reference","previous_headings":"","what":"Columns","title":"splinetrials_analysis object — splinetrials_analysis-class","text":"arm: values data[[arm]]. time: values data[[time_scheduled_label]]. n: number times combination appears data. est: mean data[[response]]. sd: standard deviation data[[response]]. se: standard error data[[response]] (.e., sd / sqrt(n)). lower: lower bound confidence interval. upper: upper bound confidence interval. response_est: estimated marginal mean. response_se: standard error response_est. response_df: degrees freedom used calculating confidence interval response_est. response_lower: lower bound confidence interval response_est. response_upper: upper bound confidence interval response_est. change_est: estimated change baseline. change_se: standard error change_est. change_df: degrees freedom used calculating confidence interval testing significance change_est. change_lower: lower bound confidence interval change_est. change_upper: upper bound confidence interval change_est. change_test_statistic: test statistic measuring significance change_est. change_p_value: p-value significance change_est. diff_est: treatment effect. diff_se: standard error diff_est. diff_df: degrees freedom used calculating confidence interval testing significance diff_est. diff_lower: lower bound confidence interval diff_est. diff_upper: upper bound confidence interval diff_est. diff_test_statistic: test statistic measuring significance diff_est. diff_p_value: p-value significance diff_est. percent_slowing_est: estimated percent slowing. percent_slowing_lower: lower bound confidence interval percent_slowing_est. percent_slowing_upper: upper bound confidence interval percent_slowing_est. correlation: covariance structure analysis model. value repeated row. optimizer: invariably mmrm+tmb indicate mmrm::mmrm() (uses TMB package) used fit model.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_analysis-class.html","id":"optional-analysis-model-attribute","dir":"Reference","previous_headings":"","what":"Optional analysis_model attribute","title":"splinetrials_analysis object — splinetrials_analysis-class","text":"ncs_analysis() return_models = TRUE, analysis model, mmrm object, included analysis_model attribute.","code":""},{"path":[]},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":null,"dir":"Reference","previous_headings":"","what":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"ncs_analysis_subgroup() returns object class splinetrials_subgroup_analysis: named list three seven elements.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"between-and-within","dir":"Reference","previous_headings":"","what":"between and within","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"tibbles, share many columns values sorted different order. contains one row per unique combination arm, time_scheduled_label, subgroup found data (see arguments ncs_analysis_subgroup()). values columns arm change_p_value well correlation optimizer identical. two tables' treatment effect analysis results columns differ name content, 's columns bearing prefix diff_subgroup_ within's columns bearing prefix diff_arm_ (see Treatment effects section ncs_analysis_subgroup()). Lastly, within contains percent slowing analysis results.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"between","dir":"Reference","previous_headings":"","what":"between","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"30-column tibble sorted time, arm, subgroup. Columns: arm: values data[[arm]]. time: values data[[time_scheduled_label]]. subgroup: values data[[subgroup]]. n: number times combination appears data. est: mean data[[response]]. sd: standard deviation data[[response]]. se: standard error data[[response]] (.e., sd / sqrt(n)). lower: lower bound confidence interval. upper: upper bound confidence interval. response_est: estimated marginal mean. response_se: standard error response_est. response_df: degrees freedom used calculate confidence interval response_est. response_lower: lower bound confidence interval response_est. response_upper: upper bound confidence interval response_est. change_est: estimated change baseline. change_se: standard error change_est. change_df: degrees freedom used calculating confidence interval testing significance change_est. change_lower: lower bound confidence interval change_est. change_upper: upper bound confidence interval change_est. change_test_statistic: test statistic measuring significance change_est. change_p_value: p-value significance change_est. diff_subgroup_est: treatment effect subgroup within arm. diff_subgroup_se: standard error diff_subgroup_est. diff_subgroup_df: degrees freedom used calculating confidence interval testing significance diff_subgroup_est. diff_subgroup_lower: lower bound confidence interval diff_subgroup_est. diff_subgroup_upper: upper bound confidence interval diff_subgroup_est. diff_subgroup_test_statistic: test statistic measuring significance diff_subgroup_est. diff_subgroup_p_value: p-value significance diff_subgroup_est. correlation: covariance structure analysis model. value repeated row. optimizer: invariably mmrm+tmb indicate mmrm::mmrm() (uses TMB package) used fit model.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"within","dir":"Reference","previous_headings":"","what":"within","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"33-column tibble sorted subgroup, arm, time. Columns: arm: values data[[arm]]. time: values data[[time_scheduled_label]]. subgroup: values data[[subgroup]]. n: number times combination appears data. est: mean data[[response]]. sd: standard deviation data[[response]]. se: standard error data[[response]] (.e., sd / sqrt(n)). lower: lower bound confidence interval. upper: upper bound confidence interval. response_est: estimated marginal mean. response_se: standard error response_est. response_df: degrees freedom used calculating confidence interval response_est. response_lower: lower bound confidence interval response_est. response_upper: upper bound confidence interval response_est. change_est: estimated change baseline. change_se: standard error change_est. change_df: degrees freedom calculating confidence interval estimating significance change_est. change_lower: lower bound confidence interval change_est. change_upper: upper bound confidence interval change_est. change_test_statistic: test statistic measuring significance change_est. change_p_value: p-value significance change_est. diff_arm_est: treatment effect arm within subgroup. diff_arm_se: standard error diff_arm_est. diff_arm_df: degrees freedom calculating confidence interval testing significance diff_arm_est. diff_arm_lower: lower bound confidence interval diff_arm_est. diff_arm_upper: upper bound confidence interval diff_arm_est. diff_arm_test_statistic: test statistic measuring significance diff_arm_est. diff_arm_p_value: p-value significance diff_arm_est. percent_slowing_est: estimated percent slowing. percent_slowing_lower: lower bound confidence interval percent_slowing_est. percent_slowing_upper: upper bound confidence interval percent_slowing_est. correlation: covariance structure analysis model. value repeated row. optimizer: invariably mmrm+tmb indicate mmrm::mmrm() (uses TMB package) used fit model.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"type-","dir":"Reference","previous_headings":"","what":"type3","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"tibble row term model (counting intercepts). Contains following six columns: effect: name model term. chisquare_test_statistic: Chi-squared test statistic measuring significance model term. df: degrees freedom used testing significance model term. p_value: p-value significance model term. correlation: covariance structure analysis model. value repeated row. optimizer: invariably mmrm+tmb indicate mmrm::mmrm() (uses TMB package) used fit model.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"interaction","dir":"Reference","previous_headings":"","what":"interaction","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"element present subgroup_interaction_test = TRUE. 2 10 data frame class anova.mmrm. first row represents \"reduced\" model second row represents \"full\" model. columns follows: model: c(\"reduced model\", \"full model\"), identifying model associated row. aic: AIC model. bic: BIC model. loglik: log likelihood model. -2*log(l): equal -2 * loglik. test_statistic: test statistic used testing significance second-order interaction term(s) spline time, subgroup, arm. value second element column; first element always missing value. df: degrees freedom used testing significance second-order interaction term(s) spline term, subgroup, arm. value second element column; first element always missing value. p_value: p-value significance second-order interaction term(s) spline term, subgroup, arm. value second element column; first element always missing value. correlation: covariance structure analysis model. value repeated row. optimizer: invariably mmrm+tmb indicate mmrm::mmrm() (uses TMB package) used fit model.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"analysis-model","dir":"Reference","previous_headings":"","what":"analysis_model","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"element present return_models = TRUE. mmrm object: fitted model used perform analyses produced , within, type3 results.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/splinetrials_subgroup_analysis-class.html","id":"full-and-reduced","dir":"Reference","previous_headings":"","what":"full and reduced","title":"splinetrials_subgroup_analysis object — splinetrials_subgroup_analysis-class","text":"elements present subgroup_interaction_test = TRUE return_models = TRUE. mmrm objects: two maximum-likelihood-estimated models used perform subgroup interaction test whose results interaction element. See Subgroup interaction test section ncs_analysis_subgroup().","code":""},{"path":[]},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","title":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","text":"Accepts constructs natural cubic spline basis continuous time yields matrix approximations time according basis.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","text":"","code":"time_spline(   time,   df = NULL,   ...,   basis = time_spline_basis(time, df = df, ...) )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","text":"time numeric vector values. df, ... used basis left default. Passed time_spline_basis() (passes arguments splines::ns()) calculate spline basis. basis Spline basis create approximations time. Defaults time_spline_basis(time, df = df, ...).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","text":"Matrix dimensions basis. Contains basis attribute.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","text":"time_spline() primarily useful can use one step create spline basis time re-input time spline basis obtain spline approximations. Alternatively, can calculate predictions basis supplied basis argument.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Natural Cubic Spline Approximations for Continuous Time — time_spline","text":"","code":"time_spline(Theoph$Time, df = 3) #>                   1          2           3 #>   [1,]  0.000000000 0.00000000  0.00000000 #>   [2,] -0.031886120 0.07479893 -0.04282603 #>   [3,] -0.070807627 0.16805702 -0.09622083 #>   [4,] -0.125964695 0.31293414 -0.17916995 #>   [5,] -0.169412675 0.48806315 -0.27927835 #>   [6,] -0.115368472 0.64343847 -0.36471168 #>   [7,] -0.005439624 0.64376443 -0.35709820 #>   [8,]  0.187939184 0.56594061 -0.28713439 #>   [9,]  0.336223856 0.48518463 -0.19148429 #>  [10,]  0.432921151 0.40296875 -0.02765524 #>  [11,] -0.140818100 0.37708366  0.76373230 #>  [12,]  0.000000000 0.00000000  0.00000000 #>  [13,] -0.034401475 0.08073620 -0.04622541 #>  [14,] -0.064955064 0.15378594 -0.08804994 #>  [15,] -0.115680778 0.28362245 -0.16238767 #>  [16,] -0.167320051 0.47227657 -0.27028435 #>  [17,] -0.135633825 0.63136451 -0.35893139 #>  [18,] -0.013265008 0.64554696 -0.35878460 #>  [19,]  0.187939184 0.56594061 -0.28713439 #>  [20,]  0.333419797 0.48691072 -0.19397616 #>  [21,]  0.431739620 0.40536423 -0.03443175 #>  [22,] -0.135520210 0.37659567  0.75892036 #>  [23,]  0.000000000 0.00000000  0.00000000 #>  [24,] -0.034401475 0.08073620 -0.04622541 #>  [25,] -0.071965460 0.17089459 -0.09784548 #>  [26,] -0.117472923 0.28861038 -0.16524350 #>  [27,] -0.169412675 0.48806315 -0.27927835 #>  [28,] -0.128469570 0.63656288 -0.36151519 #>  [29,] -0.007403778 0.64422798 -0.35753255 #>  [30,]  0.191599626 0.56411346 -0.28534422 #>  [31,]  0.333419797 0.48691072 -0.19397616 #>  [32,]  0.433186017 0.40237949 -0.02595674 #>  [33,] -0.125686467 0.37569104  0.74998465 #>  [34,]  0.000000000 0.00000000  0.00000000 #>  [35,] -0.044374820 0.10436966 -0.05975672 #>  [36,] -0.074267838 0.17655229 -0.10108478 #>  [37,] -0.121816839 0.30090106 -0.17228051 #>  [38,] -0.170988539 0.50443930 -0.28859376 #>  [39,] -0.135633825 0.63136451 -0.35893139 #>  [40,] -0.013265008 0.64554696 -0.35878460 #>  [41,]  0.187019320 0.56639890 -0.28758125 #>  [42,]  0.334546483 0.48621869 -0.19298014 #>  [43,]  0.431523624 0.40576949 -0.03555843 #>  [44,] -0.162020769 0.37903913  0.78298164 #>  [45,]  0.000000000 0.00000000  0.00000000 #>  [46,] -0.038158943 0.08962167 -0.05131277 #>  [47,] -0.064955064 0.15378594 -0.08804994 #>  [48,] -0.115680778 0.28362245 -0.16238767 #>  [49,] -0.169412675 0.48806315 -0.27927835 #>  [50,] -0.135633825 0.63136451 -0.35893139 #>  [51,] -0.013265008 0.64554696 -0.35878460 #>  [52,]  0.187019320 0.56639890 -0.28758125 #>  [53,]  0.338985800 0.48347180 -0.18898637 #>  [54,]  0.431739620 0.40536423 -0.03443175 #>  [55,] -0.139304250 0.37694418  0.76235743 #>  [56,]  0.000000000 0.00000000  0.00000000 #>  [57,] -0.034401475 0.08073620 -0.04622541 #>  [58,] -0.071965460 0.17089459 -0.09784548 #>  [59,] -0.128360092 0.32003121 -0.18323322 #>  [60,] -0.169587065 0.48959437 -0.28015006 #>  [61,] -0.131520539 0.63449736 -0.36050068 #>  [62,] -0.015207904 0.64596224 -0.35918470 #>  [63,]  0.185173915 0.56731723 -0.28847414 #>  [64,]  0.345443447 0.47941486 -0.18296684 #>  [65,]  0.432737810 0.40336372 -0.02878661 #>  [66,] -0.101522574 0.37347754  0.72799512 #>  [67,]  0.000000000 0.00000000  0.00000000 #>  [68,] -0.031886120 0.07479893 -0.04282603 #>  [69,] -0.062585869 0.14804054 -0.08476042 #>  [70,] -0.117472923 0.28861038 -0.16524350 #>  [71,] -0.169412675 0.48806315 -0.27927835 #>  [72,] -0.136774489 0.63041696 -0.35845070 #>  [73,] -0.015207904 0.64596224 -0.35918470 #>  [74,]  0.183321049 0.56823778 -0.28936584 #>  [75,]  0.333419797 0.48691072 -0.19397616 #>  [76,]  0.432255723 0.40435862 -0.03161162 #>  [77,] -0.129467769 0.37603869  0.75342133 #>  [78,]  0.000000000 0.00000000  0.00000000 #>  [79,] -0.031886120 0.07479893 -0.04282603 #>  [80,] -0.064955064 0.15378594 -0.08804994 #>  [81,] -0.113858263 0.27859466 -0.15950901 #>  [82,] -0.169412675 0.48806315 -0.27927835 #>  [83,] -0.133893864 0.63274194 -0.35962540 #>  [84,] -0.010340372 0.64490104 -0.35816820 #>  [85,]  0.198829456 0.56048783 -0.28175081 #>  [86,]  0.337333680 0.48449791 -0.19048585 #>  [87,]  0.432737810 0.40336372 -0.02878661 #>  [88,] -0.121906461 0.37534379  0.74654816 #>  [89,]  0.000000000 0.00000000  0.00000000 #>  [90,] -0.038158943 0.08962167 -0.05131277 #>  [91,] -0.077687049 0.18499373 -0.10591792 #>  [92,] -0.120102880 0.29601578 -0.16948345 #>  [93,] -0.169412675 0.48806315 -0.27927835 #>  [94,] -0.133893864 0.63274194 -0.35962540 #>  [95,] -0.013265008 0.64554696 -0.35878460 #>  [96,]  0.200617994 0.55958737 -0.28084975 #>  [97,]  0.321779716 0.49394857 -0.20388285 #>  [98,]  0.426370035 0.41379984 -0.05681476 #>  [99,] -0.145360341 0.37750232  0.76785698 #> [100,]  0.000000000 0.00000000  0.00000000 #> [101,] -0.046843101 0.11024514 -0.06312071 #> [102,] -0.093041003 0.22359645 -0.12801985 #> [103,] -0.117472923 0.28861038 -0.16524350 #> [104,] -0.169917035 0.49263118 -0.28187848 #> [105,] -0.132714772 0.63363118 -0.36007016 #> [106,] -0.010340372 0.64490104 -0.35816820 #> [107,]  0.192509988 0.56365816 -0.28489600 #> [108,]  0.353680730 0.47412303 -0.17488729 #> [109,]  0.432737810 0.40336372 -0.02878661 #> [110,] -0.090224045 0.37244888  0.71769159 #> [111,]  0.000000000 0.00000000  0.00000000 #> [112,] -0.031886120 0.07479893 -0.04282603 #> [113,] -0.062585869 0.14804054 -0.08476042 #> [114,] -0.113858263 0.27859466 -0.15950901 #> [115,] -0.168652039 0.48185238 -0.27574137 #> [116,] -0.129701084 0.63575371 -0.36111993 #> [117,] -0.013265008 0.64554696 -0.35878460 #> [118,]  0.187939184 0.56594061 -0.28713439 #> [119,]  0.335107293 0.48587347 -0.19248177 #> [120,]  0.432921151 0.40296875 -0.02765524 #> [121,] -0.118883480 0.37506632  0.74379911 #> [122,]  0.000000000 0.00000000  0.00000000 #> [123,] -0.031886120 0.07479893 -0.04282603 #> [124,] -0.062585869 0.14804054 -0.08476042 #> [125,] -0.115680778 0.28362245 -0.16238767 #> [126,] -0.169045005 0.48497498 -0.27751992 #> [127,] -0.134477691 0.63228862 -0.35939765 #> [128,] -0.008383944 0.64445532 -0.35774656 #> [129,]  0.191599626 0.56411346 -0.28534422 #> [130,]  0.335107293 0.48587347 -0.19248177 #> [131,]  0.432255723 0.40435862 -0.03161162 #> [132,] -0.124174302 0.37555209  0.74861003 #> attr(,\"degree\") #> [1] 3 #> attr(,\"knots\") #> [1] 1.040000 7.023333 #> attr(,\"Boundary.knots\") #> [1]  0.00 24.65 #> attr(,\"intercept\") #> [1] FALSE #> attr(,\"class\") #> [1] \"splinetrials_time_spline\" \"ns\"                       #> [3] \"basis\"                    \"matrix\"                   #> attr(,\"basis\") #>                   1          2           3 #>   [1,]  0.000000000 0.00000000  0.00000000 #>   [2,] -0.031886120 0.07479893 -0.04282603 #>   [3,] -0.070807627 0.16805702 -0.09622083 #>   [4,] -0.125964695 0.31293414 -0.17916995 #>   [5,] -0.169412675 0.48806315 -0.27927835 #>   [6,] -0.115368472 0.64343847 -0.36471168 #>   [7,] -0.005439624 0.64376443 -0.35709820 #>   [8,]  0.187939184 0.56594061 -0.28713439 #>   [9,]  0.336223856 0.48518463 -0.19148429 #>  [10,]  0.432921151 0.40296875 -0.02765524 #>  [11,] -0.140818100 0.37708366  0.76373230 #>  [12,]  0.000000000 0.00000000  0.00000000 #>  [13,] -0.034401475 0.08073620 -0.04622541 #>  [14,] -0.064955064 0.15378594 -0.08804994 #>  [15,] -0.115680778 0.28362245 -0.16238767 #>  [16,] -0.167320051 0.47227657 -0.27028435 #>  [17,] -0.135633825 0.63136451 -0.35893139 #>  [18,] -0.013265008 0.64554696 -0.35878460 #>  [19,]  0.187939184 0.56594061 -0.28713439 #>  [20,]  0.333419797 0.48691072 -0.19397616 #>  [21,]  0.431739620 0.40536423 -0.03443175 #>  [22,] -0.135520210 0.37659567  0.75892036 #>  [23,]  0.000000000 0.00000000  0.00000000 #>  [24,] -0.034401475 0.08073620 -0.04622541 #>  [25,] -0.071965460 0.17089459 -0.09784548 #>  [26,] -0.117472923 0.28861038 -0.16524350 #>  [27,] -0.169412675 0.48806315 -0.27927835 #>  [28,] -0.128469570 0.63656288 -0.36151519 #>  [29,] -0.007403778 0.64422798 -0.35753255 #>  [30,]  0.191599626 0.56411346 -0.28534422 #>  [31,]  0.333419797 0.48691072 -0.19397616 #>  [32,]  0.433186017 0.40237949 -0.02595674 #>  [33,] -0.125686467 0.37569104  0.74998465 #>  [34,]  0.000000000 0.00000000  0.00000000 #>  [35,] -0.044374820 0.10436966 -0.05975672 #>  [36,] -0.074267838 0.17655229 -0.10108478 #>  [37,] -0.121816839 0.30090106 -0.17228051 #>  [38,] -0.170988539 0.50443930 -0.28859376 #>  [39,] -0.135633825 0.63136451 -0.35893139 #>  [40,] -0.013265008 0.64554696 -0.35878460 #>  [41,]  0.187019320 0.56639890 -0.28758125 #>  [42,]  0.334546483 0.48621869 -0.19298014 #>  [43,]  0.431523624 0.40576949 -0.03555843 #>  [44,] -0.162020769 0.37903913  0.78298164 #>  [45,]  0.000000000 0.00000000  0.00000000 #>  [46,] -0.038158943 0.08962167 -0.05131277 #>  [47,] -0.064955064 0.15378594 -0.08804994 #>  [48,] -0.115680778 0.28362245 -0.16238767 #>  [49,] -0.169412675 0.48806315 -0.27927835 #>  [50,] -0.135633825 0.63136451 -0.35893139 #>  [51,] -0.013265008 0.64554696 -0.35878460 #>  [52,]  0.187019320 0.56639890 -0.28758125 #>  [53,]  0.338985800 0.48347180 -0.18898637 #>  [54,]  0.431739620 0.40536423 -0.03443175 #>  [55,] -0.139304250 0.37694418  0.76235743 #>  [56,]  0.000000000 0.00000000  0.00000000 #>  [57,] -0.034401475 0.08073620 -0.04622541 #>  [58,] -0.071965460 0.17089459 -0.09784548 #>  [59,] -0.128360092 0.32003121 -0.18323322 #>  [60,] -0.169587065 0.48959437 -0.28015006 #>  [61,] -0.131520539 0.63449736 -0.36050068 #>  [62,] -0.015207904 0.64596224 -0.35918470 #>  [63,]  0.185173915 0.56731723 -0.28847414 #>  [64,]  0.345443447 0.47941486 -0.18296684 #>  [65,]  0.432737810 0.40336372 -0.02878661 #>  [66,] -0.101522574 0.37347754  0.72799512 #>  [67,]  0.000000000 0.00000000  0.00000000 #>  [68,] -0.031886120 0.07479893 -0.04282603 #>  [69,] -0.062585869 0.14804054 -0.08476042 #>  [70,] -0.117472923 0.28861038 -0.16524350 #>  [71,] -0.169412675 0.48806315 -0.27927835 #>  [72,] -0.136774489 0.63041696 -0.35845070 #>  [73,] -0.015207904 0.64596224 -0.35918470 #>  [74,]  0.183321049 0.56823778 -0.28936584 #>  [75,]  0.333419797 0.48691072 -0.19397616 #>  [76,]  0.432255723 0.40435862 -0.03161162 #>  [77,] -0.129467769 0.37603869  0.75342133 #>  [78,]  0.000000000 0.00000000  0.00000000 #>  [79,] -0.031886120 0.07479893 -0.04282603 #>  [80,] -0.064955064 0.15378594 -0.08804994 #>  [81,] -0.113858263 0.27859466 -0.15950901 #>  [82,] -0.169412675 0.48806315 -0.27927835 #>  [83,] -0.133893864 0.63274194 -0.35962540 #>  [84,] -0.010340372 0.64490104 -0.35816820 #>  [85,]  0.198829456 0.56048783 -0.28175081 #>  [86,]  0.337333680 0.48449791 -0.19048585 #>  [87,]  0.432737810 0.40336372 -0.02878661 #>  [88,] -0.121906461 0.37534379  0.74654816 #>  [89,]  0.000000000 0.00000000  0.00000000 #>  [90,] -0.038158943 0.08962167 -0.05131277 #>  [91,] -0.077687049 0.18499373 -0.10591792 #>  [92,] -0.120102880 0.29601578 -0.16948345 #>  [93,] -0.169412675 0.48806315 -0.27927835 #>  [94,] -0.133893864 0.63274194 -0.35962540 #>  [95,] -0.013265008 0.64554696 -0.35878460 #>  [96,]  0.200617994 0.55958737 -0.28084975 #>  [97,]  0.321779716 0.49394857 -0.20388285 #>  [98,]  0.426370035 0.41379984 -0.05681476 #>  [99,] -0.145360341 0.37750232  0.76785698 #> [100,]  0.000000000 0.00000000  0.00000000 #> [101,] -0.046843101 0.11024514 -0.06312071 #> [102,] -0.093041003 0.22359645 -0.12801985 #> [103,] -0.117472923 0.28861038 -0.16524350 #> [104,] -0.169917035 0.49263118 -0.28187848 #> [105,] -0.132714772 0.63363118 -0.36007016 #> [106,] -0.010340372 0.64490104 -0.35816820 #> [107,]  0.192509988 0.56365816 -0.28489600 #> [108,]  0.353680730 0.47412303 -0.17488729 #> [109,]  0.432737810 0.40336372 -0.02878661 #> [110,] -0.090224045 0.37244888  0.71769159 #> [111,]  0.000000000 0.00000000  0.00000000 #> [112,] -0.031886120 0.07479893 -0.04282603 #> [113,] -0.062585869 0.14804054 -0.08476042 #> [114,] -0.113858263 0.27859466 -0.15950901 #> [115,] -0.168652039 0.48185238 -0.27574137 #> [116,] -0.129701084 0.63575371 -0.36111993 #> [117,] -0.013265008 0.64554696 -0.35878460 #> [118,]  0.187939184 0.56594061 -0.28713439 #> [119,]  0.335107293 0.48587347 -0.19248177 #> [120,]  0.432921151 0.40296875 -0.02765524 #> [121,] -0.118883480 0.37506632  0.74379911 #> [122,]  0.000000000 0.00000000  0.00000000 #> [123,] -0.031886120 0.07479893 -0.04282603 #> [124,] -0.062585869 0.14804054 -0.08476042 #> [125,] -0.115680778 0.28362245 -0.16238767 #> [126,] -0.169045005 0.48497498 -0.27751992 #> [127,] -0.134477691 0.63228862 -0.35939765 #> [128,] -0.008383944 0.64445532 -0.35774656 #> [129,]  0.191599626 0.56411346 -0.28534422 #> [130,]  0.335107293 0.48587347 -0.19248177 #> [131,]  0.432255723 0.40435862 -0.03161162 #> [132,] -0.124174302 0.37555209  0.74861003 #> attr(,\"degree\") #> [1] 3 #> attr(,\"knots\") #> [1] 1.040000 7.023333 #> attr(,\"Boundary.knots\") #> [1]  0.00 24.65 #> attr(,\"intercept\") #> [1] FALSE #> attr(,\"class\") #> [1] \"ns\"     \"basis\"  \"matrix\"  # Or, compute the spline basis beforehand, and then pass it to time_spline() basis <-   splines::bs(Theoph$Time, df = 3, Boundary.knots = c(0, max(Theoph$Time)))  time_spline(Theoph$Time, basis = basis) #>                   1            2            3 #>   [1,] 0.0000000000 0.0000000000 0.000000e+00 #>   [2,] 0.0298119336 0.0003054501 1.043204e-06 #>   [3,] 0.0662000481 0.0015670277 1.236442e-05 #>   [4,] 0.1242030786 0.0059119187 9.380010e-05 #>   [5,] 0.2072005774 0.0184951465 5.503048e-04 #>   [6,] 0.3319803563 0.0608816592 3.721682e-03 #>   [7,] 0.3904219115 0.1018491943 8.856452e-03 #>   [8,] 0.4371571813 0.1744162874 2.319611e-02 #>   [9,] 0.4411316921 0.2559129368 4.948744e-02 #>  [10,] 0.3811318524 0.3686606585 1.188658e-01 #>  [11,] 0.0003826856 0.0333073111 9.663085e-01 #>  [12,] 0.0000000000 0.0000000000 0.000000e+00 #>  [13,] 0.0321441281 0.0003559850 1.314137e-06 #>  [14,] 0.0606440883 0.0013068763 9.387701e-06 #>  [15,] 0.1120295971 0.0047369808 6.676506e-05 #>  [16,] 0.1986875177 0.0167831075 4.725556e-04 #>  [17,] 0.3135878818 0.0518939757 2.862552e-03 #>  [18,] 0.3874492283 0.0990827879 8.446181e-03 #>  [19,] 0.4371571813 0.1744162874 2.319611e-02 #>  [20,] 0.4415111513 0.2539041765 4.867173e-02 #>  [21,] 0.3846208125 0.3648576877 1.153700e-01 #>  [22,] 0.0005962287 0.0413953039 9.580056e-01 #>  [23,] 0.0000000000 0.0000000000 0.000000e+00 #>  [24,] 0.0321441281 0.0003559850 1.314137e-06 #>  [25,] 0.0673055160 0.0016218197 1.302666e-05 #>  [26,] 0.1140770019 0.0049241871 7.085161e-05 #>  [27,] 0.2072005774 0.0184951465 5.503048e-04 #>  [28,] 0.3206694595 0.0551984519 3.167196e-03 #>  [29,] 0.3896869368 0.1011553214 8.752666e-03 #>  [30,] 0.4376507118 0.1760062874 2.359432e-02 #>  [31,] 0.4415111513 0.2539041765 4.867173e-02 #>  [32,] 0.3802478681 0.3696009278 1.197507e-01 #>  [33,] 0.0011153974 0.0561649042 9.427123e-01 #>  [34,] 0.0000000000 0.0000000000 0.000000e+00 #>  [35,] 0.0413953039 0.0005962287 2.862552e-06 #>  [36,] 0.0695107374 0.0017341556 1.442125e-05 #>  [37,] 0.1191631193 0.0054073171 8.179007e-05 #>  [38,] 0.2163649256 0.0204643558 6.451906e-04 #>  [39,] 0.3135878818 0.0518939757 2.862552e-03 #>  [40,] 0.3874492283 0.0990827879 8.446181e-03 #>  [41,] 0.4370309765 0.1740191410 2.309727e-02 #>  [42,] 0.4413620392 0.2547079714 4.899693e-02 #>  [43,] 0.3851949029 0.3642174378 1.147941e-01 #>  [44,] 0.0000000000 0.0000000000 1.000000e+00 #>  [45,] 0.0000000000 0.0000000000 0.000000e+00 #>  [46,] 0.0356278545 0.0004389469 1.802657e-06 #>  [47,] 0.0606440883 0.0013068763 9.387701e-06 #>  [48,] 0.1120295971 0.0047369808 6.676506e-05 #>  [49,] 0.2072005774 0.0184951465 5.503048e-04 #>  [50,] 0.3135878818 0.0518939757 2.862552e-03 #>  [51,] 0.3874492283 0.0990827879 8.446181e-03 #>  [52,] 0.4370309765 0.1740191410 2.309727e-02 #>  [53,] 0.4407300502 0.2579191934 5.031221e-02 #>  [54,] 0.3846208125 0.3648576877 1.153700e-01 #>  [55,] 0.0004389469 0.0356278545 9.639314e-01 #>  [56,] 0.0000000000 0.0000000000 0.000000e+00 #>  [57,] 0.0321441281 0.0003559850 1.314137e-06 #>  [58,] 0.0673055160 0.0016218197 1.302666e-05 #>  [59,] 0.1272049609 0.0062249236 1.015413e-04 #>  [60,] 0.2080423367 0.0186704661 5.585182e-04 #>  [61,] 0.3177458690 0.0538118004 3.037763e-03 #>  [62,] 0.3866923653 0.0983950039 8.345632e-03 #>  [63,] 0.4367751719 0.1732252807 2.290041e-02 #>  [64,] 0.4396765032 0.2627230952 5.232895e-02 #>  [65,] 0.3817185855 0.3680314649 1.182784e-01 #>  [66,] 0.0030573055 0.0911459210 9.057626e-01 #>  [67,] 0.0000000000 0.0000000000 0.000000e+00 #>  [68,] 0.0298119336 0.0003054501 1.043204e-06 #>  [69,] 0.0584083259 0.0012092821 8.345632e-06 #>  [70,] 0.1140770019 0.0049241871 7.085161e-05 #>  [71,] 0.2072005774 0.0184951465 5.503048e-04 #>  [72,] 0.3123859149 0.0513511093 2.813759e-03 #>  [73,] 0.3866923653 0.0983950039 8.345632e-03 #>  [74,] 0.4365148327 0.1724320052 2.270469e-02 #>  [75,] 0.4415111513 0.2539041765 4.867173e-02 #>  [76,] 0.3831762837 0.3664503348 1.168182e-01 #>  [77,] 0.0008969775 0.0505227774 9.485749e-01 #>  [78,] 0.0000000000 0.0000000000 0.000000e+00 #>  [79,] 0.0298119336 0.0003054501 1.043204e-06 #>  [80,] 0.0606440883 0.0013068763 9.387701e-06 #>  [81,] 0.1099747733 0.0045532437 6.283874e-05 #>  [82,] 0.2072005774 0.0184951465 5.503048e-04 #>  [83,] 0.3153791781 0.0527125236 2.936793e-03 #>  [84,] 0.3885742386 0.1001173421 8.598513e-03 #>  [85,] 0.4385838373 0.1791928250 2.440436e-02 #>  [86,] 0.4409736889 0.2567157483 4.981626e-02 #>  [87,] 0.3817185855 0.3680314649 1.182784e-01 #>  [88,] 0.0013570615 0.0617591003 9.368739e-01 #>  [89,] 0.0000000000 0.0000000000 0.000000e+00 #>  [90,] 0.0356278545 0.0004389469 1.802657e-06 #>  [91,] 0.0728043015 0.0019095216 1.669440e-05 #>  [92,] 0.1171342197 0.0052114801 7.728890e-05 #>  [93,] 0.2072005774 0.0184951465 5.503048e-04 #>  [94,] 0.3153791781 0.0527125236 2.936793e-03 #>  [95,] 0.3874492283 0.0990827879 8.446181e-03 #>  [96,] 0.4388059383 0.1799907653 2.460972e-02 #>  [97,] 0.4428041568 0.2458471028 4.549852e-02 #>  [98,] 0.3956849176 0.3517199267 1.042133e-01 #>  [99,] 0.0002368314 0.0262990523 9.734634e-01 #> [100,] 0.0000000000 0.0000000000 0.000000e+00 #> [101,] 0.0436887453 0.0006657675 3.381850e-06 #> [102,] 0.0879487870 0.0028358696 3.048045e-05 #> [103,] 0.1140770019 0.0049241871 7.085161e-05 #> [104,] 0.2097206636 0.0190233345 5.751893e-04 #> [105,] 0.3165656201 0.0532610404 2.986994e-03 #> [106,] 0.3885742386 0.1001173421 8.598513e-03 #> [107,] 0.4377712783 0.1764041349 2.369458e-02 #> [108,] 0.4380779522 0.2691009294 5.510078e-02 #> [109,] 0.3817185855 0.3680314649 1.182784e-01 #> [110,] 0.0042841635 0.1068786061 8.887800e-01 #> [111,] 0.0000000000 0.0000000000 0.000000e+00 #> [112,] 0.0298119336 0.0003054501 1.043204e-06 #> [113,] 0.0584083259 0.0012092821 8.345632e-06 #> [114,] 0.1099747733 0.0045532437 6.283874e-05 #> [115,] 0.2038162066 0.0178013273 5.182566e-04 #> [116,] 0.3195046513 0.0546421256 3.114991e-03 #> [117,] 0.3874492283 0.0990827879 8.446181e-03 #> [118,] 0.4371571813 0.1744162874 2.319611e-02 #> [119,] 0.4412861461 0.2551097247 4.916007e-02 #> [120,] 0.3811318524 0.3686606585 1.188658e-01 #> [121,] 0.0015670277 0.0662000481 9.322206e-01 #> [122,] 0.0000000000 0.0000000000 0.000000e+00 #> [123,] 0.0298119336 0.0003054501 1.043204e-06 #> [124,] 0.0584083259 0.0012092821 8.345632e-06 #> [125,] 0.1120295971 0.0047369808 6.676506e-05 #> [126,] 0.2055118611 0.0181467427 5.341205e-04 #> [127,] 0.3147836316 0.0524391095 2.911905e-03 #> [128,] 0.3893174034 0.1008089497 8.701079e-03 #> [129,] 0.4376507118 0.1760062874 2.359432e-02 #> [130,] 0.4412861461 0.2551097247 4.916007e-02 #> [131,] 0.3831762837 0.3664503348 1.168182e-01 #> [132,] 0.0012092821 0.0584083259 9.403740e-01 #> attr(,\"degree\") #> [1] 3 #> attr(,\"knots\") #> numeric(0) #> attr(,\"Boundary.knots\") #> [1]  0.00 24.65 #> attr(,\"intercept\") #> [1] FALSE #> attr(,\"class\") #> [1] \"splinetrials_time_spline\" \"bs\"                       #> [3] \"basis\"                    \"matrix\"                   #> attr(,\"basis\") #>                   1            2            3 #>   [1,] 0.0000000000 0.0000000000 0.000000e+00 #>   [2,] 0.0298119336 0.0003054501 1.043204e-06 #>   [3,] 0.0662000481 0.0015670277 1.236442e-05 #>   [4,] 0.1242030786 0.0059119187 9.380010e-05 #>   [5,] 0.2072005774 0.0184951465 5.503048e-04 #>   [6,] 0.3319803563 0.0608816592 3.721682e-03 #>   [7,] 0.3904219115 0.1018491943 8.856452e-03 #>   [8,] 0.4371571813 0.1744162874 2.319611e-02 #>   [9,] 0.4411316921 0.2559129368 4.948744e-02 #>  [10,] 0.3811318524 0.3686606585 1.188658e-01 #>  [11,] 0.0003826856 0.0333073111 9.663085e-01 #>  [12,] 0.0000000000 0.0000000000 0.000000e+00 #>  [13,] 0.0321441281 0.0003559850 1.314137e-06 #>  [14,] 0.0606440883 0.0013068763 9.387701e-06 #>  [15,] 0.1120295971 0.0047369808 6.676506e-05 #>  [16,] 0.1986875177 0.0167831075 4.725556e-04 #>  [17,] 0.3135878818 0.0518939757 2.862552e-03 #>  [18,] 0.3874492283 0.0990827879 8.446181e-03 #>  [19,] 0.4371571813 0.1744162874 2.319611e-02 #>  [20,] 0.4415111513 0.2539041765 4.867173e-02 #>  [21,] 0.3846208125 0.3648576877 1.153700e-01 #>  [22,] 0.0005962287 0.0413953039 9.580056e-01 #>  [23,] 0.0000000000 0.0000000000 0.000000e+00 #>  [24,] 0.0321441281 0.0003559850 1.314137e-06 #>  [25,] 0.0673055160 0.0016218197 1.302666e-05 #>  [26,] 0.1140770019 0.0049241871 7.085161e-05 #>  [27,] 0.2072005774 0.0184951465 5.503048e-04 #>  [28,] 0.3206694595 0.0551984519 3.167196e-03 #>  [29,] 0.3896869368 0.1011553214 8.752666e-03 #>  [30,] 0.4376507118 0.1760062874 2.359432e-02 #>  [31,] 0.4415111513 0.2539041765 4.867173e-02 #>  [32,] 0.3802478681 0.3696009278 1.197507e-01 #>  [33,] 0.0011153974 0.0561649042 9.427123e-01 #>  [34,] 0.0000000000 0.0000000000 0.000000e+00 #>  [35,] 0.0413953039 0.0005962287 2.862552e-06 #>  [36,] 0.0695107374 0.0017341556 1.442125e-05 #>  [37,] 0.1191631193 0.0054073171 8.179007e-05 #>  [38,] 0.2163649256 0.0204643558 6.451906e-04 #>  [39,] 0.3135878818 0.0518939757 2.862552e-03 #>  [40,] 0.3874492283 0.0990827879 8.446181e-03 #>  [41,] 0.4370309765 0.1740191410 2.309727e-02 #>  [42,] 0.4413620392 0.2547079714 4.899693e-02 #>  [43,] 0.3851949029 0.3642174378 1.147941e-01 #>  [44,] 0.0000000000 0.0000000000 1.000000e+00 #>  [45,] 0.0000000000 0.0000000000 0.000000e+00 #>  [46,] 0.0356278545 0.0004389469 1.802657e-06 #>  [47,] 0.0606440883 0.0013068763 9.387701e-06 #>  [48,] 0.1120295971 0.0047369808 6.676506e-05 #>  [49,] 0.2072005774 0.0184951465 5.503048e-04 #>  [50,] 0.3135878818 0.0518939757 2.862552e-03 #>  [51,] 0.3874492283 0.0990827879 8.446181e-03 #>  [52,] 0.4370309765 0.1740191410 2.309727e-02 #>  [53,] 0.4407300502 0.2579191934 5.031221e-02 #>  [54,] 0.3846208125 0.3648576877 1.153700e-01 #>  [55,] 0.0004389469 0.0356278545 9.639314e-01 #>  [56,] 0.0000000000 0.0000000000 0.000000e+00 #>  [57,] 0.0321441281 0.0003559850 1.314137e-06 #>  [58,] 0.0673055160 0.0016218197 1.302666e-05 #>  [59,] 0.1272049609 0.0062249236 1.015413e-04 #>  [60,] 0.2080423367 0.0186704661 5.585182e-04 #>  [61,] 0.3177458690 0.0538118004 3.037763e-03 #>  [62,] 0.3866923653 0.0983950039 8.345632e-03 #>  [63,] 0.4367751719 0.1732252807 2.290041e-02 #>  [64,] 0.4396765032 0.2627230952 5.232895e-02 #>  [65,] 0.3817185855 0.3680314649 1.182784e-01 #>  [66,] 0.0030573055 0.0911459210 9.057626e-01 #>  [67,] 0.0000000000 0.0000000000 0.000000e+00 #>  [68,] 0.0298119336 0.0003054501 1.043204e-06 #>  [69,] 0.0584083259 0.0012092821 8.345632e-06 #>  [70,] 0.1140770019 0.0049241871 7.085161e-05 #>  [71,] 0.2072005774 0.0184951465 5.503048e-04 #>  [72,] 0.3123859149 0.0513511093 2.813759e-03 #>  [73,] 0.3866923653 0.0983950039 8.345632e-03 #>  [74,] 0.4365148327 0.1724320052 2.270469e-02 #>  [75,] 0.4415111513 0.2539041765 4.867173e-02 #>  [76,] 0.3831762837 0.3664503348 1.168182e-01 #>  [77,] 0.0008969775 0.0505227774 9.485749e-01 #>  [78,] 0.0000000000 0.0000000000 0.000000e+00 #>  [79,] 0.0298119336 0.0003054501 1.043204e-06 #>  [80,] 0.0606440883 0.0013068763 9.387701e-06 #>  [81,] 0.1099747733 0.0045532437 6.283874e-05 #>  [82,] 0.2072005774 0.0184951465 5.503048e-04 #>  [83,] 0.3153791781 0.0527125236 2.936793e-03 #>  [84,] 0.3885742386 0.1001173421 8.598513e-03 #>  [85,] 0.4385838373 0.1791928250 2.440436e-02 #>  [86,] 0.4409736889 0.2567157483 4.981626e-02 #>  [87,] 0.3817185855 0.3680314649 1.182784e-01 #>  [88,] 0.0013570615 0.0617591003 9.368739e-01 #>  [89,] 0.0000000000 0.0000000000 0.000000e+00 #>  [90,] 0.0356278545 0.0004389469 1.802657e-06 #>  [91,] 0.0728043015 0.0019095216 1.669440e-05 #>  [92,] 0.1171342197 0.0052114801 7.728890e-05 #>  [93,] 0.2072005774 0.0184951465 5.503048e-04 #>  [94,] 0.3153791781 0.0527125236 2.936793e-03 #>  [95,] 0.3874492283 0.0990827879 8.446181e-03 #>  [96,] 0.4388059383 0.1799907653 2.460972e-02 #>  [97,] 0.4428041568 0.2458471028 4.549852e-02 #>  [98,] 0.3956849176 0.3517199267 1.042133e-01 #>  [99,] 0.0002368314 0.0262990523 9.734634e-01 #> [100,] 0.0000000000 0.0000000000 0.000000e+00 #> [101,] 0.0436887453 0.0006657675 3.381850e-06 #> [102,] 0.0879487870 0.0028358696 3.048045e-05 #> [103,] 0.1140770019 0.0049241871 7.085161e-05 #> [104,] 0.2097206636 0.0190233345 5.751893e-04 #> [105,] 0.3165656201 0.0532610404 2.986994e-03 #> [106,] 0.3885742386 0.1001173421 8.598513e-03 #> [107,] 0.4377712783 0.1764041349 2.369458e-02 #> [108,] 0.4380779522 0.2691009294 5.510078e-02 #> [109,] 0.3817185855 0.3680314649 1.182784e-01 #> [110,] 0.0042841635 0.1068786061 8.887800e-01 #> [111,] 0.0000000000 0.0000000000 0.000000e+00 #> [112,] 0.0298119336 0.0003054501 1.043204e-06 #> [113,] 0.0584083259 0.0012092821 8.345632e-06 #> [114,] 0.1099747733 0.0045532437 6.283874e-05 #> [115,] 0.2038162066 0.0178013273 5.182566e-04 #> [116,] 0.3195046513 0.0546421256 3.114991e-03 #> [117,] 0.3874492283 0.0990827879 8.446181e-03 #> [118,] 0.4371571813 0.1744162874 2.319611e-02 #> [119,] 0.4412861461 0.2551097247 4.916007e-02 #> [120,] 0.3811318524 0.3686606585 1.188658e-01 #> [121,] 0.0015670277 0.0662000481 9.322206e-01 #> [122,] 0.0000000000 0.0000000000 0.000000e+00 #> [123,] 0.0298119336 0.0003054501 1.043204e-06 #> [124,] 0.0584083259 0.0012092821 8.345632e-06 #> [125,] 0.1120295971 0.0047369808 6.676506e-05 #> [126,] 0.2055118611 0.0181467427 5.341205e-04 #> [127,] 0.3147836316 0.0524391095 2.911905e-03 #> [128,] 0.3893174034 0.1008089497 8.701079e-03 #> [129,] 0.4376507118 0.1760062874 2.359432e-02 #> [130,] 0.4412861461 0.2551097247 4.916007e-02 #> [131,] 0.3831762837 0.3664503348 1.168182e-01 #> [132,] 0.0012092821 0.0584083259 9.403740e-01 #> attr(,\"degree\") #> [1] 3 #> attr(,\"knots\") #> numeric(0) #> attr(,\"Boundary.knots\") #> [1]  0.00 24.65 #> attr(,\"intercept\") #> [1] FALSE #> attr(,\"class\") #> [1] \"bs\"     \"basis\"  \"matrix\""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline_basis.html","id":null,"dir":"Reference","previous_headings":"","what":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","title":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","text":"Wrapper around splines::ns() default Boundary.knots c(0, max(time)).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline_basis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","text":"","code":"time_spline_basis(time, df, Boundary.knots = c(0, max(time)), ...)"},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline_basis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","text":"time Continuous time variable, passed directly splines::ns() first argument. df Degrees freedom, passed directly df argument splines::ns(). Boundary.knots Boundary knots, passed directly Boundary.knots argument splines::ns(). Defaults c(0, max(time)). ... Passed splines::ns().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline_basis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","text":"matrix dimension length(time) * df. See Value section splines::ns().","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline_basis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","text":"time_spline() primarily useful can create spline basis time re-input time spline basis obtain predictions one step. , can calculate predictions basis supplied basis argument.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/time_spline_basis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Natural Cubic Spline Basis Matrix for Continuous Time. — time_spline_basis","text":"","code":"time_spline_basis(Theoph$Time, df = 3) #>                   1          2           3 #>   [1,]  0.000000000 0.00000000  0.00000000 #>   [2,] -0.031886120 0.07479893 -0.04282603 #>   [3,] -0.070807627 0.16805702 -0.09622083 #>   [4,] -0.125964695 0.31293414 -0.17916995 #>   [5,] -0.169412675 0.48806315 -0.27927835 #>   [6,] -0.115368472 0.64343847 -0.36471168 #>   [7,] -0.005439624 0.64376443 -0.35709820 #>   [8,]  0.187939184 0.56594061 -0.28713439 #>   [9,]  0.336223856 0.48518463 -0.19148429 #>  [10,]  0.432921151 0.40296875 -0.02765524 #>  [11,] -0.140818100 0.37708366  0.76373230 #>  [12,]  0.000000000 0.00000000  0.00000000 #>  [13,] -0.034401475 0.08073620 -0.04622541 #>  [14,] -0.064955064 0.15378594 -0.08804994 #>  [15,] -0.115680778 0.28362245 -0.16238767 #>  [16,] -0.167320051 0.47227657 -0.27028435 #>  [17,] -0.135633825 0.63136451 -0.35893139 #>  [18,] -0.013265008 0.64554696 -0.35878460 #>  [19,]  0.187939184 0.56594061 -0.28713439 #>  [20,]  0.333419797 0.48691072 -0.19397616 #>  [21,]  0.431739620 0.40536423 -0.03443175 #>  [22,] -0.135520210 0.37659567  0.75892036 #>  [23,]  0.000000000 0.00000000  0.00000000 #>  [24,] -0.034401475 0.08073620 -0.04622541 #>  [25,] -0.071965460 0.17089459 -0.09784548 #>  [26,] -0.117472923 0.28861038 -0.16524350 #>  [27,] -0.169412675 0.48806315 -0.27927835 #>  [28,] -0.128469570 0.63656288 -0.36151519 #>  [29,] -0.007403778 0.64422798 -0.35753255 #>  [30,]  0.191599626 0.56411346 -0.28534422 #>  [31,]  0.333419797 0.48691072 -0.19397616 #>  [32,]  0.433186017 0.40237949 -0.02595674 #>  [33,] -0.125686467 0.37569104  0.74998465 #>  [34,]  0.000000000 0.00000000  0.00000000 #>  [35,] -0.044374820 0.10436966 -0.05975672 #>  [36,] -0.074267838 0.17655229 -0.10108478 #>  [37,] -0.121816839 0.30090106 -0.17228051 #>  [38,] -0.170988539 0.50443930 -0.28859376 #>  [39,] -0.135633825 0.63136451 -0.35893139 #>  [40,] -0.013265008 0.64554696 -0.35878460 #>  [41,]  0.187019320 0.56639890 -0.28758125 #>  [42,]  0.334546483 0.48621869 -0.19298014 #>  [43,]  0.431523624 0.40576949 -0.03555843 #>  [44,] -0.162020769 0.37903913  0.78298164 #>  [45,]  0.000000000 0.00000000  0.00000000 #>  [46,] -0.038158943 0.08962167 -0.05131277 #>  [47,] -0.064955064 0.15378594 -0.08804994 #>  [48,] -0.115680778 0.28362245 -0.16238767 #>  [49,] -0.169412675 0.48806315 -0.27927835 #>  [50,] -0.135633825 0.63136451 -0.35893139 #>  [51,] -0.013265008 0.64554696 -0.35878460 #>  [52,]  0.187019320 0.56639890 -0.28758125 #>  [53,]  0.338985800 0.48347180 -0.18898637 #>  [54,]  0.431739620 0.40536423 -0.03443175 #>  [55,] -0.139304250 0.37694418  0.76235743 #>  [56,]  0.000000000 0.00000000  0.00000000 #>  [57,] -0.034401475 0.08073620 -0.04622541 #>  [58,] -0.071965460 0.17089459 -0.09784548 #>  [59,] -0.128360092 0.32003121 -0.18323322 #>  [60,] -0.169587065 0.48959437 -0.28015006 #>  [61,] -0.131520539 0.63449736 -0.36050068 #>  [62,] -0.015207904 0.64596224 -0.35918470 #>  [63,]  0.185173915 0.56731723 -0.28847414 #>  [64,]  0.345443447 0.47941486 -0.18296684 #>  [65,]  0.432737810 0.40336372 -0.02878661 #>  [66,] -0.101522574 0.37347754  0.72799512 #>  [67,]  0.000000000 0.00000000  0.00000000 #>  [68,] -0.031886120 0.07479893 -0.04282603 #>  [69,] -0.062585869 0.14804054 -0.08476042 #>  [70,] -0.117472923 0.28861038 -0.16524350 #>  [71,] -0.169412675 0.48806315 -0.27927835 #>  [72,] -0.136774489 0.63041696 -0.35845070 #>  [73,] -0.015207904 0.64596224 -0.35918470 #>  [74,]  0.183321049 0.56823778 -0.28936584 #>  [75,]  0.333419797 0.48691072 -0.19397616 #>  [76,]  0.432255723 0.40435862 -0.03161162 #>  [77,] -0.129467769 0.37603869  0.75342133 #>  [78,]  0.000000000 0.00000000  0.00000000 #>  [79,] -0.031886120 0.07479893 -0.04282603 #>  [80,] -0.064955064 0.15378594 -0.08804994 #>  [81,] -0.113858263 0.27859466 -0.15950901 #>  [82,] -0.169412675 0.48806315 -0.27927835 #>  [83,] -0.133893864 0.63274194 -0.35962540 #>  [84,] -0.010340372 0.64490104 -0.35816820 #>  [85,]  0.198829456 0.56048783 -0.28175081 #>  [86,]  0.337333680 0.48449791 -0.19048585 #>  [87,]  0.432737810 0.40336372 -0.02878661 #>  [88,] -0.121906461 0.37534379  0.74654816 #>  [89,]  0.000000000 0.00000000  0.00000000 #>  [90,] -0.038158943 0.08962167 -0.05131277 #>  [91,] -0.077687049 0.18499373 -0.10591792 #>  [92,] -0.120102880 0.29601578 -0.16948345 #>  [93,] -0.169412675 0.48806315 -0.27927835 #>  [94,] -0.133893864 0.63274194 -0.35962540 #>  [95,] -0.013265008 0.64554696 -0.35878460 #>  [96,]  0.200617994 0.55958737 -0.28084975 #>  [97,]  0.321779716 0.49394857 -0.20388285 #>  [98,]  0.426370035 0.41379984 -0.05681476 #>  [99,] -0.145360341 0.37750232  0.76785698 #> [100,]  0.000000000 0.00000000  0.00000000 #> [101,] -0.046843101 0.11024514 -0.06312071 #> [102,] -0.093041003 0.22359645 -0.12801985 #> [103,] -0.117472923 0.28861038 -0.16524350 #> [104,] -0.169917035 0.49263118 -0.28187848 #> [105,] -0.132714772 0.63363118 -0.36007016 #> [106,] -0.010340372 0.64490104 -0.35816820 #> [107,]  0.192509988 0.56365816 -0.28489600 #> [108,]  0.353680730 0.47412303 -0.17488729 #> [109,]  0.432737810 0.40336372 -0.02878661 #> [110,] -0.090224045 0.37244888  0.71769159 #> [111,]  0.000000000 0.00000000  0.00000000 #> [112,] -0.031886120 0.07479893 -0.04282603 #> [113,] -0.062585869 0.14804054 -0.08476042 #> [114,] -0.113858263 0.27859466 -0.15950901 #> [115,] -0.168652039 0.48185238 -0.27574137 #> [116,] -0.129701084 0.63575371 -0.36111993 #> [117,] -0.013265008 0.64554696 -0.35878460 #> [118,]  0.187939184 0.56594061 -0.28713439 #> [119,]  0.335107293 0.48587347 -0.19248177 #> [120,]  0.432921151 0.40296875 -0.02765524 #> [121,] -0.118883480 0.37506632  0.74379911 #> [122,]  0.000000000 0.00000000  0.00000000 #> [123,] -0.031886120 0.07479893 -0.04282603 #> [124,] -0.062585869 0.14804054 -0.08476042 #> [125,] -0.115680778 0.28362245 -0.16238767 #> [126,] -0.169045005 0.48497498 -0.27751992 #> [127,] -0.134477691 0.63228862 -0.35939765 #> [128,] -0.008383944 0.64445532 -0.35774656 #> [129,]  0.191599626 0.56411346 -0.28534422 #> [130,]  0.335107293 0.48587347 -0.19248177 #> [131,]  0.432255723 0.40435862 -0.03161162 #> [132,] -0.124174302 0.37555209  0.74861003 #> attr(,\"degree\") #> [1] 3 #> attr(,\"knots\") #> [1] 1.040000 7.023333 #> attr(,\"Boundary.knots\") #> [1]  0.00 24.65 #> attr(,\"intercept\") #> [1] FALSE #> attr(,\"class\") #> [1] \"ns\"     \"basis\"  \"matrix\""},{"path":"https://nikkrieger.github.io/splinetrials/reference/treatment_effect.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Change from Baseline or Treatment Effects from Estimated Marginal Means — change_from_baseline","title":"Calculate the Change from Baseline or Treatment Effects from Estimated Marginal Means — change_from_baseline","text":"Pass emmeans::emmeans() objects (probably obtained via ncs_emmeans()) emmeans::contrast() using specially constructed contrast matrices change baseline treatment effects can calculated. change_from_baseline calculate change baseline different study arms/subgroups. treatment_effect() calculate treatment effect study arm subgroup. subgroup, calculate treatment effect subgroups (examining differences subgroups within study arm) within subgroups (examining differences study arms within subgroup).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/treatment_effect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Change from Baseline or Treatment Effects from Estimated Marginal Means — change_from_baseline","text":"","code":"change_from_baseline(   emmeans,   time_observed_continuous = emmeans@roles$predictors[2],   time_scheduled_baseline = 0,   arm = emmeans@roles$predictors[1],   subgroup = if (length(emmeans@roles$predictors) == 3) emmeans@roles$predictors[3],   contrast_args = list(adjust = \"none\"),   ...,   as_tibble = FALSE,   confint_args = list(level = 0.95) )  treatment_effect(   emmeans,   time_observed_continuous = emmeans@roles$predictors[2],   time_scheduled_baseline,   arm = emmeans@roles$predictors[1],   subgroup = if (length(emmeans@roles$predictors) == 3) emmeans@roles$predictors[3],   ref_value,   subgroup_type = c(\"between\", \"within\"),   contrast_args = list(adjust = \"none\"),   ...,   as_tibble = FALSE,   confint_args = list(level = 0.95) )"},{"path":"https://nikkrieger.github.io/splinetrials/reference/treatment_effect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Change from Baseline or Treatment Effects from Estimated Marginal Means — change_from_baseline","text":"emmeans (emmGrid) object class emmGrid, ideally obtained via ncs_emmeans(), wraps emmeans::emmeans(). time_scheduled_baseline (scalar numeric) continuous time point baseline scheduled occur. Defaults 0. arm, time_observed_continuous, subgroup (string) strings identifying study arm variable, observed continuous time variable, (optionally) subgroup variable supplied emmeans::emmeans(), probably via ncs_emmeans()). ncs_emmeans() indeed used, strings contained character vector emmeans@roles$predictors (see default arguments). contrast_args, ... (named list) arguments passed emmeans::contrast(). arguments names object method overwritten. Arguments contrast_args override identically named arguments .... as_tibble (flag)TRUE FALSE indicating whether results emmeans::contrast() processed returned tibble. confint_args (named list) arguments passed stats::confint() calculating confidence intervals. Ignored as_tibble = FALSE. NULL, confidence intervals calculated. Defaults list(level = 0.95). ref_value (string) value arm (subgroup = NULL subgroup_type = \"within\") value subgroup (subgroup NULL subgroup_type = \"\") denoting control group. subgroup_type (string) either \"\" \"within\", denoting whether calculate treatment effect subgroups (examining differences subgroups within study arm) within subgroups (examining differences study arms within subgroup).","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/treatment_effect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Change from Baseline or Treatment Effects from Estimated Marginal Means — change_from_baseline","text":"as_tibble = FALSE, value returned emmeans::contrast(). as_tibble = TRUE, tibble: {column name value arm argument}: study arm. {column name value time_observed_continuous argument}: observed continuous time variable. {column name value subgroup argument}: subgroup. present subgroup NULL. estimate: estimate change baseline treatment effect. SE: standard error estimate. df: degrees freedom calculating confidence interval estimating significance estimate. lower.CL: lower bound confidence interval estimate. present confint_args NULL. upper.CL: upper bound confidence interval estimate. present confint_args NULL. t.ratio: test statistic measuring significance estimate. p.value: p-value significance estimate.","code":""},{"path":"https://nikkrieger.github.io/splinetrials/reference/treatment_effect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the Change from Baseline or Treatment Effects from Estimated Marginal Means — change_from_baseline","text":"","code":"if (FALSE) { # interactive() # Create a usable data set out of mmrm::fev_data fev_mod <- mmrm::fev_data fev_mod$VISITN <- fev_mod$VISITN * 10 fev_mod$time_cont <- fev_mod$VISITN + rnorm(nrow(fev_mod)) fev_mod$obs_visit_index <- round(fev_mod$time_cont)  fit <-   ncs_mmrm_fit(     data = fev_mod,     type = \"subgroup_full\",     response = FEV1,     subject = USUBJID,     cov_structs = c(\"ar1\", \"us\"),     time_observed_continuous = time_cont,     df = 2,     time_observed_index = obs_visit_index,     time_scheduled_continuous = VISITN,     arm = ARMCD,     control_group = \"PBO\",     subgroup = SEX,     subgroup_comparator = \"Male\",     covariates = ~ FEV1_BL + RACE   )  marginal_means <-   ncs_emmeans(     fit = fit,     observed_time = \"time_cont\",     scheduled_time = \"VISITN\",     arm = \"ARMCD\",     subgroup = \"SEX\"   )  change_from_baseline(   emmeans = marginal_means,   time_observed_continuous = \"time_cont\",   time_scheduled_baseline = 10,   arm = \"ARMCD\",   subgroup = \"SEX\" )  # Same thing as a tibble: change_from_baseline(   emmeans = marginal_means,   time_observed_continuous = \"time_cont\",   time_scheduled_baseline = 10,   arm = \"ARMCD\",   subgroup = \"SEX\",   as_tibble = TRUE )  treatment_effect(   emmeans = marginal_means,   time_observed_continuous = \"time_cont\",   time_scheduled_baseline = 10,   arm = \"ARMCD\",   subgroup = \"SEX\",   ref_value = \"Male\",   as_tibble = TRUE ) }"},{"path":"https://nikkrieger.github.io/splinetrials/news/index.html","id":"splinetrials-010","dir":"Changelog","previous_headings":"","what":"splinetrials 0.1.0","title":"splinetrials 0.1.0","text":"Initial CRAN submission.","code":""}]
